<mxfile>
    <diagram id="MafO3dPlg2zOEJyob4Zc" name="第 1 页">
        <mxGraphModel dx="1468" dy="30901" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="20000" pageHeight="30000" background="none" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="1535" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1726" target="1729" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="10615.689999999999" y="-23868.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1536" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1870" target="1750" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1537" value="完成阶段" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1833" target="1715" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="9740.88" y="-22326.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1538" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1539" target="1541" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1539" value="render()" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="3785.5" y="-29605" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1540" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1541" target="2043" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1541" value="&lt;div&gt;&amp;nbsp; return legacyRenderSubtreeIntoContainer(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; element,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; container,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; false,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; callback,&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3718" y="-29516" width="255" height="126" as="geometry"/>
                </mxCell>
                <mxCell id="1542" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1543" target="1545" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1543" value="root = container._reactRootContainer =&amp;nbsp;legacyCreateRootFromDOMContainer()&lt;br&gt;创建&amp;nbsp;fiberRoot&amp;nbsp;对象" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4512.12" y="-28883" width="434" height="47" as="geometry"/>
                </mxCell>
                <mxCell id="1544" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1545" target="1547" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1545" value="createLegacyRoot()&amp;nbsp; -&amp;gt;&amp;nbsp; new&amp;nbsp;ReactDOMLegacyRoot(container, options);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4576.24" y="-28804" width="305.75" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="1546" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1547" target="1550" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1547" value="this._internalRoot = createRootImpl(container, LegacyRoot, options);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4529.12" y="-28733" width="400" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1548" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1550" target="1552" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1549" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1550" target="1571" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1550" value="const root = createContainer() -&amp;gt;&amp;nbsp;createFiberRoot()(才开始真正创建&amp;nbsp;fiberRoot)" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4623.5" y="-28663" width="209.62" height="73" as="geometry"/>
                </mxCell>
                <mxCell id="1551" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1552" target="1555" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1552" value="const root&amp;nbsp; =&amp;nbsp;&amp;nbsp;new FiberRootNode()" style="whiteSpace=wrap;html=1;verticalAlign=middle;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4828.11" y="-28548" width="202" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="1553" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1555" target="1557" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1554" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1555" target="1561" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4929.11" y="-28366"/>
                            <mxPoint x="4929.11" y="-28366"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1555" value="&lt;div&gt;const uninitializedFiber = createHostRootFiber(&lt;span&gt;&amp;nbsp;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;创建&amp;nbsp;根&amp;nbsp;fiber&amp;nbsp;&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4789.12" y="-28462" width="280" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="1556" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1557" target="1559" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1557" value="return createFiber(HostRoot, null, null, mode);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5103.61" y="-28462" width="259" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="1558" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1559" target="1561" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1559" value="return new FiberNode(tag, pendingProps, key, mode);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5086.86" y="-28384" width="292.5" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="1560" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1561" target="1563" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1561" value="root.current = uninitializedFiber&lt;br&gt;将&amp;nbsp;根&amp;nbsp;fiber&amp;nbsp;挂载到&amp;nbsp;fiberRoot&amp;nbsp;身上&lt;br&gt;&lt;br&gt;uninitializedFiber.stateNode = root;&lt;br&gt;将&amp;nbsp;fiberRoot&amp;nbsp;挂载到&amp;nbsp;rootFiber.stateNode&amp;nbsp;身上" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4799.11" y="-28319" width="258.01" height="94" as="geometry"/>
                </mxCell>
                <mxCell id="1562" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1563" target="1566" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1563" value="uninitializedFiber.memoizedState = initialState;&lt;br&gt;启用缓存" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4791.61" y="-28187" width="273" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="1564" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1566" target="1567" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1565" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1566" target="1568" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1566" value="initializeUpdateQueue(uninitializedFiber);&lt;br&gt;创建更新对象" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4799.11" y="-28077" width="259" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="1567" value="&amp;nbsp;const queue: UpdateQueue&amp;lt;State&amp;gt; =&amp;nbsp; { ... }&lt;br&gt;fiber.updateQueue = queue;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5104.11" y="-28082" width="256" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="1568" value="return root" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4876.11" y="-27968" width="104" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="1569" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1571" target="1573" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1570" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1571" target="1575" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1571" value="listenToAllSupportedEvents(rootContainerElement);&lt;br&gt;事件代理" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4522.9" y="-27871" width="410.81" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="1572" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1573" target="1574" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1573" value="listenToNativeEvent(domEventName, true, rootContainerElement);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5156.12" y="-27871" width="397" height="61" as="geometry"/>
                </mxCell>
                <mxCell id="1574" value="&lt;div&gt;addTrappedEventListener(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; target,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; domEventName,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; eventSystemFlags,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; isCapturePhaseListener,&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5269.62" y="-27769" width="170" height="107" as="geometry"/>
                </mxCell>
                <mxCell id="1575" value="return&amp;nbsp;root" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4668.3" y="-27754" width="120" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="1576" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1578" target="1543" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4729" y="-28971"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1577" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1578" target="1580" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1578" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; root = container._reactRootContainer = legacyCreateRootFromDOMContainer(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; container,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; forceHydrate,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="4106" y="-29007" width="467.88" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="1579" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1580" target="1583" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1580" value="fiberRoot = root._internalRoot;&lt;br&gt;记录&amp;nbsp;fiberRoot" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4238.62" y="-27679" width="198" height="52" as="geometry"/>
                </mxCell>
                <mxCell id="1581" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1583" target="1585" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1582" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1583" target="2025" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1583" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; unbatchedUpdates(() =&amp;gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // &amp;lt;App /&amp;gt;, fiberRoot, null, undefined&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; updateContainer(children, fiberRoot, parentComponent, callback);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; });&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 开始更新&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4145" y="-27580" width="385.25" height="98" as="geometry"/>
                </mxCell>
                <mxCell id="1584" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1585" target="1587" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1585" value="&lt;div&gt;&amp;nbsp; // 拿到当前的 fiber 节点 如果是 render 则拿到 RootFiber&lt;/div&gt;&lt;div&gt;&amp;nbsp; const current = container.current;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 获取一次时间，第一次 render 时会获取当前的时间&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const eventTime = requestEventTime();&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4753.09" y="-27572.5" width="332.5" height="83" as="geometry"/>
                </mxCell>
                <mxCell id="1586" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1587" target="1590" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1587" value="const lane = requestUpdateLane(current);" style="whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4800.58" y="-27428.5" width="237.49" height="40.5" as="geometry"/>
                </mxCell>
                <mxCell id="1588" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1590" target="1592" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1589" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1590" target="1595" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1590" value="const update = createUpdate(eventTime, lane);&lt;br&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;&amp;nbsp; update.payload = {element};&lt;/span&gt;&lt;/div&gt;创建一个更新对象" style="whiteSpace=wrap;html=1;align=center;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4787.57" y="-27336.5" width="263.51" height="57" as="geometry"/>
                </mxCell>
                <mxCell id="1591" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1592" target="1607" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1592" value="&lt;div&gt;&amp;nbsp; const update: Update&amp;lt;*&amp;gt; = {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; eventTime,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lane,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; tag: UpdateState,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; payload: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; callback: null,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; next: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; };&lt;/div&gt;&lt;div&gt;&amp;nbsp; return update;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;padding-5px;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5178.26" y="-27397.43" width="182.57" height="178.87" as="geometry"/>
                </mxCell>
                <mxCell id="1593" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1595" target="1597" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1594" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1595" target="1610" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1595" value="&amp;nbsp; enqueueUpdate(current, update, lane);&lt;br&gt;准备更新" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4799.08" y="-27165.5" width="240.51" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="1596" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1597" target="1602" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1597" value="&amp;nbsp; const updateQueue = fiber.updateQueue;&lt;br&gt;&lt;br&gt;const sharedQueue: SharedQueue&amp;lt;State&amp;gt; = (updateQueue: any).shared;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5498.969999999999" y="-27177" width="410.74" height="67" as="geometry"/>
                </mxCell>
                <mxCell id="1598" value="f否" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;noLabel=1;labelBackgroundColor=none;" parent="1" source="1602" target="1606" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5410.193333333334" y="-26964.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1599" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1598" vertex="1" connectable="0">
                    <mxGeometry x="-0.2959" y="-4" relative="1" as="geometry">
                        <mxPoint x="-5" y="4" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1600" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0.003;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=none;" parent="1" source="1602" target="1604" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6221.61" y="-26965.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1601" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1600" vertex="1" connectable="0">
                    <mxGeometry x="-0.2168" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1602" value="isInterleavedUpdate(fiber, lane)&lt;br&gt;是否并发模式更新" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5598.59" y="-27053.5" width="211.49" height="108" as="geometry"/>
                </mxCell>
                <mxCell id="1603" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1604" target="1610" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6009.97" y="-26618.5"/>
                            <mxPoint x="4918.97" y="-26618.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1604" value="&lt;div style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; line-height: 156%; font-size: 10px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;interleaved&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;sharedQueue&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;interleaved&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//这是第一次更新。创建一个循环列表。&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;(interleaved&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;===&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;)&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;This&amp;nbsp;is&amp;nbsp;the&amp;nbsp;first&amp;nbsp;update.&amp;nbsp;Create&amp;nbsp;a&amp;nbsp;circular&amp;nbsp;list.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;update&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;在当前渲染结束时，此队列的并发更新将传输到挂起队列&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;At&amp;nbsp;the&amp;nbsp;end&amp;nbsp;of&amp;nbsp;the&amp;nbsp;current&amp;nbsp;render,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // this&amp;nbsp;queue's&amp;nbsp;interleaved&amp;nbsp;updates&amp;nbsp;will&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;be&amp;nbsp;transfered&amp;nbsp;to&amp;nbsp;the&amp;nbsp;pending&amp;nbsp;queue.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #61afef&quot;&gt;pushInterleavedQueue&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;(sharedQueue);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;update&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;interleaved&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;interleaved&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sharedQueue&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;interleaved&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5828.97" y="-26962.5" width="361.14" height="254" as="geometry"/>
                </mxCell>
                <mxCell id="1605" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1606" target="1610" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5404.97" y="-26618.5"/>
                            <mxPoint x="4918.97" y="-26618.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1606" value="&lt;div style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; line-height: 166%; font-size: 10px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;pending&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;sharedQueue&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;pending&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;第一次更新的&amp;nbsp;pending&amp;nbsp;是null&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;(pending&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;===&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;)&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;This&amp;nbsp;is&amp;nbsp;the&amp;nbsp;first&amp;nbsp;update.&amp;nbsp;Create&amp;nbsp;a&amp;nbsp;circular&amp;nbsp;list.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;update&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c678dd&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;update&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;pending&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;pending&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;将&amp;nbsp;pending&amp;nbsp;设置为当前更新，&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;//&amp;nbsp;会同时给&amp;nbsp;fiber.updateQueue.shared&amp;nbsp;设置,该值第一次是&amp;nbsp;null&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sharedQueue&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;pending&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf&quot;&gt;&amp;nbsp;update;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5222.97" y="-26938.5" width="364.64" height="224.5" as="geometry"/>
                </mxCell>
                <mxCell id="1607" value="&lt;div style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; line-height: 146%; font-size: 10px;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;eventTime&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;3081886.5&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;lane&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;payload&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;element&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;ref&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;props&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;{},&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;_owner&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;callback&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121); font-size: 10px;&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 182, 194); font-size: 10px;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 10px;&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-size: 10px;&quot;&gt;&amp;nbsp;&amp;nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5409.82" y="-27421.489999999998" width="162.65" height="227" as="geometry"/>
                </mxCell>
                <mxCell id="1608" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="1610" target="1612" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5326.94" y="-26519.5" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1609" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1610" target="2022" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1610" value="const root = scheduleUpdateOnFiber(current, lane, eventTime);&lt;br&gt;开始更新" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4725" y="-26556.5" width="388.64" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="1611" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1612" target="1614" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1612" value="checkForNestedUpdates();&lt;br&gt;//&amp;nbsp;校验是否有超过50次以上更新" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5541.26" y="-26556.5" width="238.01" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="1613" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1614" target="1617" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1614" value="const root = markUpdateLaneFromFiberToRoot(fiber, lane);&lt;br&gt;//&amp;nbsp;根节点会返回自身的真实&amp;nbsp;dom" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5487.26" y="-26443.5" width="346.01" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="1615" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1617" target="1619" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1616" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1617" target="1628" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1617" value="markRootUpdated(root, lane, eventTime);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5538.26" y="-26336.5" width="244.01" height="43.5" as="geometry"/>
                </mxCell>
                <mxCell id="1618" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1619" target="1621" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1619" value="&amp;nbsp; root.pendingLanes |= updateLane;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5906.27" y="-26343.87" width="219.99" height="58.25" as="geometry"/>
                </mxCell>
                <mxCell id="1620" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.383;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1621" target="1623" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1621" value="&lt;div&gt;&amp;nbsp; if (updateLane !== IdleLane) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root.suspendedLanes = NoLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root.pingedLanes = NoLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;//&amp;nbsp; &amp;nbsp;如果这次更新等级不是空闲更新则&amp;nbsp;清空&amp;nbsp;暂停的&amp;nbsp;lane&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5860.77" y="-26228.5" width="311" height="111" as="geometry"/>
                </mxCell>
                <mxCell id="1622" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1623" target="1628" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1623" value="&lt;div style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; font-size: 10px; line-height: 190%;&quot;&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(198 , 120 , 221) ; font-size: 10px&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;eventTimes&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194) ; font-size: 10px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194) ; font-size: 10px&quot;&gt;root.&lt;/span&gt;&lt;span style=&quot;color: rgb(224 , 108 , 117) ; font-size: 10px&quot;&gt;eventTimes&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;; //&amp;nbsp;长度为 31&amp;nbsp;的数组&amp;nbsp;每个值默认是 0&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(154 , 152 , 155) ; font-size: 10px&quot;&gt;//&amp;nbsp;根据&amp;nbsp;更新等级返回&amp;nbsp;索引&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(198 , 120 , 221) ; font-size: 10px&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;index&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194) ; font-size: 10px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(97 , 175 , 239) ; font-size: 10px&quot;&gt;laneToIndex&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;(updateLane);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(154 , 152 , 155) ; font-size: 10px&quot;&gt;//&amp;nbsp;这个索引可能会被覆盖&lt;/span&gt;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(154 , 152 , 155) ; font-size: 10px&quot;&gt;//&amp;nbsp;我们总是可以覆盖现有时间戳，因为我们更喜欢最近的事件，并且我们假设时间在单调增加。&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;&amp;nbsp;eventTimes[index]&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194) ; font-size: 10px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(171 , 178 , 191) ; font-size: 10px&quot;&gt;&amp;nbsp;eventTime;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5839.27" y="-26079.5" width="460" height="136" as="geometry"/>
                </mxCell>
                <mxCell id="1624" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1628" target="1629" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1625" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;labelBackgroundColor=none;" parent="1624" vertex="1" connectable="0">
                    <mxGeometry x="-0.2658" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1626" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1628" target="1634" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1627" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;labelBackgroundColor=none;" parent="1626" vertex="1" connectable="0">
                    <mxGeometry x="-0.3112" y="1" relative="1" as="geometry">
                        <mxPoint x="-1" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1628" value="if (lane === SyncLane)&lt;br&gt;此次&amp;nbsp;更新是否同步更新" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5581.26" y="-25899.5" width="158.01" height="96" as="geometry"/>
                </mxCell>
                <mxCell id="1629" value="ensureRootIsScheduled(root, eventTime);&lt;br&gt;在回调同步后安排其他更新。" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5839.27" y="-25884.5" width="242.99" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="1630" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1634" target="1639" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5298.915517241379" y="-25588.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1631" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;labelBackgroundColor=none;" parent="1630" vertex="1" connectable="0">
                    <mxGeometry x="-0.2512" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1632" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;labelBackgroundColor=none;" parent="1" source="1634" target="1636" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5945.55" y="-25653" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="5853" y="-25183"/>
                            <mxPoint x="5661" y="-25183"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1633" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;labelBackgroundColor=none;" parent="1632" vertex="1" connectable="0">
                    <mxGeometry x="-0.3668" y="3" relative="1" as="geometry">
                        <mxPoint x="-6" y="-182" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1634" value="&lt;font style=&quot;font-size: 12px&quot;&gt;(executionContext &amp;amp; LegacyUnbatchedContext) !== NoContext &amp;amp;&amp;amp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; (executionContext &amp;amp; (RenderContext | CommitContext)) === NoContext&lt;br&gt;判断是否在非并发更新&amp;nbsp;并且&amp;nbsp;是否还没有渲染&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;align=center;verticalAlign=middle;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5467.77" y="-25733.5" width="385.01" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1635" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1636" target="1641" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2686" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1636" target="2685" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1636" value="&lt;span style=&quot;font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 12px ; color: rgb(97 , 175 , 239)&quot;&gt;ensureRootIsScheduled&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-size: 12px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 12px ; color: rgb(86 , 182 , 194)&quot;&gt;root&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;font color=&quot;#abb2bf&quot; face=&quot;fira code light, consolas, courier new, monospace&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;,&amp;nbsp;eventTime);&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;div&gt;&lt;font color=&quot;#abb2bf&quot; face=&quot;fira code light, consolas, courier new, monospace&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;如果是本次更新是同步的，不过当前有React更新任务正在进行，&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace&quot;&gt;而且因为无法打断，所以调 ensureRootIsScheduled&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace&quot;&gt;&amp;nbsp;目的是去复用已经在更新的任务，让这个已有的任务&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace&quot;&gt;把这次更新顺便做了&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171 , 178 , 191) ; font-family: &amp;quot;fira code light&amp;quot; , &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 12px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;align=left;verticalAlign=middle;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5496" y="-25004" width="329" height="104" as="geometry"/>
                </mxCell>
                <mxCell id="1637" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1639" target="1644" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1638" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1639" target="2020" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1639" value="&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; color: rgb(97, 175, 239);&quot;&gt;performSyncWorkOnRoot&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; color: rgb(86, 182, 194);&quot;&gt;root&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace;&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-size: 12px; line-height: 136%;&quot;&gt;&lt;div&gt;&amp;nbsp;&lt;span style=&quot;color: #9a989b&quot;&gt;如果是本次更新是同步的，并且当前还未渲染，意味着主线程空闲，并没有React的&lt;/span&gt;&lt;span style=&quot;color: rgb(154 , 152 , 155)&quot;&gt;更新任务在执行，那么调用performSyncWorkOnRoot开始执行同步任务&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9a989b&quot;&gt;第一次&amp;nbsp;render&amp;nbsp;会进入到这里&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;align=left;verticalAlign=middle;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5550.77" y="-25483.5" width="219" height="116" as="geometry"/>
                </mxCell>
                <mxCell id="1640" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1641" target="1642" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2766" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1641" target="2765">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5807" y="-24826"/>
                            <mxPoint x="5807" y="-24467"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1641" value="&lt;div&gt;if (&lt;span&gt;&amp;nbsp; executionContext === NoContext &amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (fiber.mode &amp;amp; ConcurrentMode) === NoMode&lt;span&gt;&amp;nbsp;)&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=center;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5543.62" y="-24865.5" width="233.75" height="79" as="geometry"/>
                </mxCell>
                <mxCell id="2778" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1642" target="2780">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6498.1" y="-24682.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1642" value="&lt;div&gt;&amp;nbsp;resetRenderTimer();&lt;/div&gt;&lt;div&gt;&amp;nbsp;flushSyncCallbacksOnlyInLegacyMode();&lt;/div&gt;&lt;div&gt;现在刷新同步工作，除非我们已经在工作或在批处理中。这是有意在 scheduleUpdateOnFiber 而不是 scheduleCallbackForFiber 内部， 以保留在不立即刷新回调的情况下安排回调的能力。我们仅对用户启动的更新执行此操作，以保留传统模式的历史行为。&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5550.03" y="-24750" width="221" height="135" as="geometry"/>
                </mxCell>
                <mxCell id="1643" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1644" target="1648" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1644" value="let lanes = getNextLanes(root, NoLanes);&lt;br&gt;获取最高的更新等级" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5887.26" y="-25447.5" width="199" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="1645" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1648" target="1652" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6212" y="-25327.5"/>
                            <mxPoint x="6212" y="-25327.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1646" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1648" target="1639" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1647" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1648" target="1987" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1648" value="let exitStatus = renderRootSync(root, lanes);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;align=left;verticalAlign=middle;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5880.32" y="-25355.5" width="212" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="1649" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1652" target="1655" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1650" value="&lt;span style=&quot;font-size: 10px ; text-align: left&quot;&gt;创建&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;font color=&quot;#0066cc&quot; style=&quot;font-size: 10px ; text-align: left&quot;&gt;workInProgress&amp;nbsp;双缓存&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1649" vertex="1" connectable="0">
                    <mxGeometry x="-0.1484" y="-1" relative="1" as="geometry">
                        <mxPoint x="-594" y="816" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1651" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1652" target="1674" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1652" value="&lt;br&gt;if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes){&lt;br&gt;&amp;nbsp; // ...&lt;br&gt;&amp;nbsp; prepareFreshStack(root, lanes);&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;}" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6565.6900000000005" y="-25381.5" width="218.65" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="1653" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;labelBackgroundColor=none;" parent="1" source="1655" target="1657" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1654" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1655" target="1671" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1655" value="workInProgress = createWorkInProgress(root.current, null);" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7227.6900000000005" y="-25365.5" width="278" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="1656" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1657" target="1662" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1657" value="let workInProgress = current.alternate;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7599.71" y="-25359.5" width="190" height="31" as="geometry"/>
                </mxCell>
                <mxCell id="1658" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1662" target="1666" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1659" value="false&amp;nbsp;更新" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1658" vertex="1" connectable="0">
                    <mxGeometry x="-0.3849" y="-1" relative="1" as="geometry">
                        <mxPoint x="8" y="-1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1660" value="复用原来的属性" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1658" vertex="1" connectable="0">
                    <mxGeometry x="0.7824" relative="1" as="geometry">
                        <mxPoint x="1" y="-11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1661" value="true,&amp;nbsp;挂载" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1662" target="1801" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1662" value="if (workInProgress === null)&lt;br&gt;是&amp;nbsp;更新阶段还是挂载阶段" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7620.1900000000005" y="-25299.5" width="149.04" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="1663" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1664" target="1668" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1664" value="&lt;div&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; workInProgress.elementType = current.elementType;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.type = current.type;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.stateNode = current.stateNode;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.alternate = current;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; current.alternate = workInProgress;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7538" y="-25054" width="311" height="114" as="geometry"/>
                </mxCell>
                <mxCell id="1665" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1666" target="1668" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7972.6900000000005" y="-24898.5"/>
                            <mxPoint x="7694.6900000000005" y="-24898.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1666" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.pendingProps = pendingProps;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.type = current.type;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.flags = NoFlags;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.subtreeFlags = NoFlags;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.deletions = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7855" y="-25224" width="236" height="147" as="geometry"/>
                </mxCell>
                <mxCell id="1667" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;exitX=0.455;exitY=1.026;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="1668" target="1669" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="7698.166666666668" y="-23977.5" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1668" value="&lt;div&gt;&amp;nbsp; workInProgress.flags = current.flags &amp;amp; StaticMask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.childLanes = current.childLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.lanes = current.lanes;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.child = current.child;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.memoizedProps = current.memoizedProps;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.memoizedState = current.memoizedState;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.updateQueue = current.updateQueue;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Clone the dependencies object. This is mutated during the render phase, so&lt;/div&gt;&lt;div&gt;&amp;nbsp; // it cannot be shared with the current fiber.&lt;/div&gt;&lt;div&gt;&amp;nbsp; const currentDependencies = current.dependencies;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.dependencies =&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentDependencies === null&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ? null&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; : {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes: currentDependencies.lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; firstContext: currentDependencies.firstContext,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; };&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // These will be overridden during the parent's reconciliation&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.sibling = current.sibling;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.index = current.index;&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress.ref = current.ref;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7506" y="-24845" width="378" height="352" as="geometry"/>
                </mxCell>
                <mxCell id="1669" value="return workInProgress;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7618.21" y="-24424" width="120" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="1670" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1671" target="1674" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1671" value="enqueueInterleavedUpdates();&lt;br&gt;//&amp;nbsp;将并发更新加入队列" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7288.2" y="-25254" width="148.98" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="1672" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1674" target="1983" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1673" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.005;entryY=0.186;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;fontColor=none;" parent="1" source="1674" target="1677" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1674" value="&lt;div&gt;&amp;nbsp; do {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; workLoopSync();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } catch (thrownValue) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; handleError(root, thrownValue);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; } while (true);&lt;/div&gt;&lt;div&gt;//&amp;nbsp;开启同步工循环&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6602" y="-25214" width="146" height="155" as="geometry"/>
                </mxCell>
                <mxCell id="1675" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1677" target="1679" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1676" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.613;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;fontColor=none;" parent="1" source="1677" target="1674" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1677" value="&lt;div&gt;&amp;nbsp; while (workInProgress !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; performUnitOfWork(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6830.66" y="-25146.75" width="192" height="55.5" as="geometry"/>
                </mxCell>
                <mxCell id="1678" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1679" target="1683" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1679" value="&amp;nbsp; const current = unitOfWork.alternate;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7136.1900000000005" y="-25146.75" width="178" height="56.5" as="geometry"/>
                </mxCell>
                <mxCell id="1680" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1683" target="1685" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1681" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 2;labelBackgroundColor=none;" parent="1" source="1683" target="1687" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1682" value="开始捕获" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1681" vertex="1" connectable="0">
                    <mxGeometry x="-0.9459" y="-1" relative="1" as="geometry">
                        <mxPoint x="23" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1683" value="&amp;nbsp; next = beginWork(current, unitOfWork, subtreeRenderLanes);" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7080.6900000000005" y="-25044.5" width="289" height="43.5" as="geometry"/>
                </mxCell>
                <mxCell id="1684" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1685" target="1823" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1685" value="&lt;div&gt;&amp;nbsp; // 将新的 props 设置为老的 props&lt;/div&gt;&lt;div&gt;&amp;nbsp; unitOfWork.memoizedProps = unitOfWork.pendingProps;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (next === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; completeUnitOfWork(unitOfWork);&lt;/div&gt;&lt;div&gt;&amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; workInProgress = next;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; ReactCurrentOwner.current = null;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7088" y="-24984" width="275" height="159" as="geometry"/>
                </mxCell>
                <mxCell id="1686" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1687" target="1690" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1687" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const oldProps = current.memoizedProps;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const newProps = workInProgress.pendingProps;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;shadow=0;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8452.69" y="-25052.75" width="260" height="62.25" as="geometry"/>
                </mxCell>
                <mxCell id="1688" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1690" target="1692" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1689" value="tag = 3 ，根节点类型" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1688" vertex="1" connectable="0">
                    <mxGeometry x="-0.2005" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1690" value="&amp;nbsp; switch (workInProgress.tag)&lt;br&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;判断&amp;nbsp;fiber&amp;nbsp;节点类型&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=left;shadow=0;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8508.69" y="-24936.5" width="148" height="63.88" as="geometry"/>
                </mxCell>
                <mxCell id="1691" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1692" target="1694" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1692" value="&amp;nbsp;return updateHostRoot(current, workInProgress, renderLanes);" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8205.69" y="-24831.5" width="293" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="1693" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1694" target="1697" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1694" value="&lt;span style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; font-size: 10px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none&quot;&gt;const updateQueue = workInProgress.updateQueue;&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8884.19" y="-24831.5" width="252.5" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="1695" value="&lt;font style=&quot;font-size: 9px ; line-height: 90%&quot;&gt;{&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;element&quot;: null,&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;cache&quot;: {}&lt;br&gt;}&lt;br&gt;// memoizedState&lt;br&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9188.19" y="-24754" width="131" height="79" as="geometry"/>
                </mxCell>
                <mxCell id="1696" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;labelBackgroundColor=none;" parent="1" source="1697" target="1699" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="9010.51857142857" y="-24602.25" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1697" value="&lt;div&gt;&amp;nbsp; const nextProps = workInProgress.pendingProps;&amp;nbsp; &amp;nbsp; //&amp;nbsp;null&lt;/div&gt;&lt;div&gt;&amp;nbsp; const prevState = workInProgress.memoizedState;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const prevChildren = prevState.element;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8848" y="-24754" width="325" height="74" as="geometry"/>
                </mxCell>
                <mxCell id="1698" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1699" target="1702" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1699" value="&lt;p&gt;cloneUpdateQueue(current, workInProgress);&lt;br&gt;//&amp;nbsp;克隆更新队列，如果&amp;nbsp;current.&lt;span style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; font-size: 10px&quot;&gt;updateQueue&amp;nbsp;和&amp;nbsp;workInProgress.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; font-size: 10px&quot;&gt;updateQueue&amp;nbsp;相等，则会克隆&amp;nbsp;current&amp;nbsp;中的&amp;nbsp;updateQueue&lt;/span&gt;&lt;/p&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8867.32" y="-24640.5" width="286.25" height="88" as="geometry"/>
                </mxCell>
                <mxCell id="1700" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1702" target="1719" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1701" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1702" target="1704" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1702" value="&amp;nbsp; processUpdateQueue(workInProgress, nextProps, null, renderLanes);&lt;br&gt;&amp;nbsp; 计算到新的 state" style="whiteSpace=wrap;html=1;rounded=0;align=center;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8817.32" y="-24499.5" width="386.24" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="1703" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1704" target="1706" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1704" value="&lt;div&gt;&amp;nbsp; //这在 ClassComponent 或 HostRoot 上总是非空的&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; const queue: UpdateQueue&amp;lt;State&amp;gt; = (workInProgress.updateQueue: any);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;div&gt;&amp;nbsp; // 都为 null&lt;/div&gt;&lt;div&gt;&amp;nbsp; let firstBaseUpdate = queue.firstBaseUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; let lastBaseUpdate = queue.lastBaseUpdate;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; let pendingQueue = queue.shared.pending;&amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;取到pending&amp;nbsp;的更新&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9536.869999999999" y="-24523.5" width="413" height="193" as="geometry"/>
                </mxCell>
                <mxCell id="1705" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1706" target="1708" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1706" value="if (pendingQueue !== null)&lt;br&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;是否有&amp;nbsp;pending&amp;nbsp;的更新&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9660.63" y="-24271.5" width="165.5" height="67.5" as="geometry"/>
                </mxCell>
                <mxCell id="1707" value="处理阶段" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1708" target="1710" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1708" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const lastPendingUpdate = pendingQueue;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const firstPendingUpdate = lastPendingUpdate.next;&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 第一次 update 为 pendinQueue.next，最后一次更新为pendingQueue，&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;// 设置完后，剪断这个环形链表，如果这俩是一致的话，则 两个 next都会被置空&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastPendingUpdate.next = null;&amp;nbsp; // 将 lastpending 的 next 置空&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 将 pending 的更新插入到基本更新队列&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (lastBaseUpdate === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 记录第一次 的update&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; firstBaseUpdate = firstPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; lastBaseUpdate.next = firstPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 记录最后一次 update&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastBaseUpdate = lastPendingUpdate;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 如果有一个 current 队列，并且它与 base queue 不同，那么我们也需要将更新传输到该队列。&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 因为 base queue 是一个没有循环的单向链表，我们可以附加到两个列表并利用结构共享。&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;// 拷贝 workInProgress 的 base queue 单向链表&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const current = workInProgress.alternate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (current !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // This is always non-null on a ClassComponent or HostRoot&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const currentQueue: UpdateQueue&amp;lt;State&amp;gt; = (current.updateQueue: any);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const currentLastBaseUpdate = currentQueue.lastBaseUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (currentLastBaseUpdate !== lastBaseUpdate) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (currentLastBaseUpdate === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentQueue.firstBaseUpdate = firstPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentLastBaseUpdate.next = firstPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentQueue.lastBaseUpdate = lastPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9472.69" y="-24163.5" width="541.37" height="508" as="geometry"/>
                </mxCell>
                <mxCell id="1709" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1710" target="1713" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1710" value="&amp;nbsp; if (firstBaseUpdate !== null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9643.13" y="-23602.5" width="200.5" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="1711" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.145;entryY=-0.005;entryDx=0;entryDy=0;entryPerimeter=0;shadow=1;labelBackgroundColor=none;" parent="1" source="1713" target="1833" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1712" value="do .. while(true)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1711" vertex="1" connectable="0">
                    <mxGeometry x="-0.1575" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1713" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; let newState = queue.baseState;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // TODO: Don't need to accumulate this. Instead, we can remove renderLanes&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // from the original lanes.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let newLanes = NoLanes;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let newBaseState = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let newFirstBaseUpdate = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let newLastBaseUpdate = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let update = firstBaseUpdate;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9544.13" y="-23498.5" width="398.5" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="1714" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1715" target="1717" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1715" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // 将新的 state 存下来&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (newLastBaseUpdate === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; newBaseState = newState;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; queue.baseState = ((newBaseState: any): State);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; queue.firstBaseUpdate = newFirstBaseUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; queue.lastBaseUpdate = newLastBaseUpdate;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const lastInterleaved = queue.shared.interleaved;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9649.69" y="-22321.5" width="371" height="162" as="geometry"/>
                </mxCell>
                <mxCell id="1716" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.508;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1717" target="1719" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="9369.69" y="-22054.5"/>
                            <mxPoint x="9369.69" y="-24412.5"/>
                            <mxPoint x="9012.69" y="-24412.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1717" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; markSkippedUpdateLanes(newLanes);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.lanes = newLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 将新的 state 设置为 旧的 state&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.memoizedState = newState;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9700.94" y="-22099.5" width="268.5" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="1718" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1719" target="1721" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1719" value="&amp;nbsp; const nextState = workInProgress.memoizedState;&lt;br&gt;&amp;nbsp; const root: FiberRoot = workInProgress.stateNode;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8859.31" y="-24381.5" width="302.25" height="47" as="geometry"/>
                </mxCell>
                <mxCell id="1720" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1721" target="1724" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1721" value="&lt;div&gt;&amp;nbsp; if (enableCache) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 拿到缓存&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const nextCache: Cache = nextState.cache;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; pushRootCachePool(root);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; pushCacheProvider(workInProgress, nextCache);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (nextCache !== prevState.cache) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // The root cache refreshed.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; propagateContextChange(workInProgress, CacheContext, renderLanes);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8856.82" y="-24303.5" width="307.26" height="178.5" as="geometry"/>
                </mxCell>
                <mxCell id="1722" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1724" target="1726" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1723" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1722" vertex="1" connectable="0">
                    <mxGeometry x="-0.2276" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1724" value="&amp;nbsp; if (root.hydrate &amp;amp;&amp;amp; enterHydrationState(workInProgress))&lt;br&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;是否&amp;nbsp;ssr&amp;nbsp;服务端渲染&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8846.31" y="-24015.5" width="328.24" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="1725" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1726" target="1815" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1726" value="&amp;nbsp; &amp;nbsp; reconcileChildren(current, workInProgress, nextChildren, renderLanes);" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8809.82" y="-23887.5" width="401.26" height="38" as="geometry"/>
                </mxCell>
                <mxCell id="1727" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1729" target="1732" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1728" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1727" vertex="1" connectable="0">
                    <mxGeometry x="-0.3051" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1729" value="&amp;nbsp; if (current === null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10621.69" y="-23897.5" width="122" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="1730" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1732" target="1736" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="10851.69" y="-23730.53448275862" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1731" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontSize=13;exitX=0;exitY=0.5;exitDx=0;exitDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1732" target="1815" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="10350.69" y="-23730.5"/>
                            <mxPoint x="10350.69" y="-23815.5"/>
                            <mxPoint x="9010.69" y="-23815.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1732" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress.child = reconcileChildFibers(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; workInProgress,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; current.child,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; nextChildren,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; renderLanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 将 workInProgress 的 child fiber 挂载到 .child 上，如果没有子节点了这个 child 会是 null&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10543.94" y="-23793.5" width="277.5" height="126" as="geometry"/>
                </mxCell>
                <mxCell id="1733" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1736" target="1738" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1734" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1733" vertex="1" connectable="0">
                    <mxGeometry x="-0.2555" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1735" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1736" target="1746" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1736" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const isUnkeyedTopLevelFragment =&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; typeof newChild === 'object' &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; newChild !== null &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; newChild.type === REACT_FRAGMENT_TYPE &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; newChild.key === null;&lt;/div&gt;&lt;div&gt;判断该&amp;nbsp;child&amp;nbsp;是否为&amp;nbsp;frament&amp;nbsp;类型，一般&amp;lt;Frament&amp;gt;&lt;/div&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;&amp;lt;/Frament&amp;gt;&amp;nbsp;或者 &amp;lt;&amp;gt; &amp;lt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11620.69" y="-23813.5" width="317" height="166" as="geometry"/>
                </mxCell>
                <mxCell id="1737" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="11778.190000000002" y="-23468.5" as="sourcePoint"/>
                        <mxPoint x="11778" y="-23468" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1738" value="&amp;nbsp; newChild = newChild.props.children;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12023.69" y="-23749" width="223" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="1739" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.483;entryY=-0.005;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1746" target="1869" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1740" value="&lt;span style=&quot;font-size: 12px ; text-align: left&quot;&gt;if (typeof newChild === 'object' &amp;amp;&amp;amp; newChild !== null)&amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left&quot;&gt;//对象类型&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1739" vertex="1" connectable="0">
                    <mxGeometry x="-0.03" y="-1" relative="1" as="geometry">
                        <mxPoint x="-290" y="38" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1741" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;labelBackgroundColor=none;" parent="1" source="1746" target="1747" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1742" value="&lt;span style=&quot;font-size: 12px ; text-align: left&quot;&gt;if (typeof newChild === 'string' || typeof newChild === 'number')&amp;nbsp; &lt;br&gt;//&amp;nbsp;普通文本类型&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1741" vertex="1" connectable="0">
                    <mxGeometry x="0.3023" y="-1" relative="1" as="geometry">
                        <mxPoint x="1" y="-8" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1743" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1746" target="1748" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1744" value="&lt;span style=&quot;font-size: 12px ; text-align: left&quot;&gt;if (typeof newChild === 'undefined' &amp;amp;&amp;amp; !isUnkeyedTopLevelFragment) &lt;br&gt;//&amp;nbsp;没有子节点且不是&amp;nbsp;frament&amp;nbsp;类型&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1743" vertex="1" connectable="0">
                    <mxGeometry x="0.7065" relative="1" as="geometry">
                        <mxPoint x="3" y="-31" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1745" value="报错" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1743" vertex="1" connectable="0">
                    <mxGeometry x="0.8605" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1746" value="判断&amp;nbsp;child&amp;nbsp;类型" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11715.19" y="-23565.5" width="126" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="1747" value="&lt;div&gt;&amp;nbsp; return placeSingleChild(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;reconcileSingleTextNode(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;'' + newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; );&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11698.19" y="-23444" width="168" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1748" value="Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12228.69" y="-23394" width="223" height="79" as="geometry"/>
                </mxCell>
                <mxCell id="1749" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.533;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;exitX=1;exitY=0.25;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="1811" target="1752" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12870.377896728516" y="-23247" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1750" value="&amp;nbsp; throwOnInvalidObjectType(returnFiber, newChild);&lt;br&gt;&amp;nbsp; //&amp;nbsp;抛出无效的对象类型" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10911.94" y="-22865.07" width="287" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="1751" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1752" target="1756" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="13188.94" y="-23163.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1752" value="const key = element.key;&lt;br&gt;let child = currentFirstChild;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13104.44" y="-23274.5" width="169" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="1753" value="true" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1756" target="1757" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1754" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1756" target="1760" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1755" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1754" vertex="1" connectable="0">
                    <mxGeometry x="-0.2292" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1756" value="while (child !== null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13130.19" y="-23177.5" width="117.5" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1757" value="..." style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13326.44" y="-23176" width="101" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="1758" value="false" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1760" target="1761" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1759" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1760" target="1764" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1760" value="if (element.type === REACT_FRAGMENT_TYPE)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13035.31" y="-23099.5" width="307.25" height="57" as="geometry"/>
                </mxCell>
                <mxCell id="1761" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const created = createFiberFromFragment(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; element.props.children,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber.mode,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; element.key,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; created.return = returnFiber;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return created;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13516.19" y="-23131.5" width="264.25" height="126" as="geometry"/>
                </mxCell>
                <mxCell id="1762" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1764" target="1767" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1763" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1764" target="1769" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1764" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;根据&amp;nbsp;type 创建&amp;nbsp;fiber&amp;nbsp;对象&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const created = createFiberFromElement(element, returnFiber.mode, lanes);&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12968.69" y="-22966.5" width="440.5" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="1765" value="&lt;div&gt;&amp;nbsp; function reconcileSingleElement(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; returnFiber: Fiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentFirstChild: Fiber | null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; element: ReactElement,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lanes: Lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; ): Fiber&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13097.44" y="-23367.5" width="191" height="83" as="geometry"/>
                </mxCell>
                <mxCell id="1766" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1767" target="1772" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1767" value="&lt;div&gt;&amp;nbsp; let owner = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (__DEV__) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; owner = element._owner;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; const type = element.type;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const key = element.key;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const pendingProps = element.props;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13516.19" y="-22974.94" width="253" height="109.87" as="geometry"/>
                </mxCell>
                <mxCell id="1768" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1769" target="1810" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1769" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;校验&amp;nbsp;ref&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; created.ref = coerceRef(returnFiber, currentFirstChild, element);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 将该 fiber 对象的 rerurn 指向 父节点&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; created.return = returnFiber;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13002.19" y="-22852.5" width="373.5" height="88.5" as="geometry"/>
                </mxCell>
                <mxCell id="1770" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1772" target="1774" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1771" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1772" target="1776" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1772" value="&lt;div&gt;&amp;nbsp; const fiber = createFiberFromTypeAndProps(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; key,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; pendingProps,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; owner,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mode,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13510.31" y="-22813.5" width="264.75" height="129.63" as="geometry"/>
                </mxCell>
                <mxCell id="1773" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1774" target="1769" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="13462.44" y="-22629.5"/>
                            <mxPoint x="13462.44" y="-22872.5"/>
                            <mxPoint x="13189.44" y="-22872.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1774" value="&amp;nbsp; return fiber;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13599.31" y="-22645.5" width="86.75" height="30.99" as="geometry"/>
                </mxCell>
                <mxCell id="1775" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1776" target="1781" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1776" value="&lt;div&gt;&amp;nbsp; let fiberTag = IndeterminateComponent;&amp;nbsp; &amp;nbsp;//&amp;nbsp;表示不确定类型&amp;nbsp; 值为 2&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&amp;nbsp; // 如果我们知道最终类型是什么，则设置 resolved tyle, IE。这不是 lazy。&amp;nbsp;&lt;div&gt;&amp;nbsp; let resolvedType = type;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13866.44" y="-22783.82" width="417" height="70.27" as="geometry"/>
                </mxCell>
                <mxCell id="1777" value="if (typeof type === 'function')&lt;br&gt;自定义组件类型" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1781" target="1784" edge="1">
                    <mxGeometry x="0.6796" relative="1" as="geometry">
                        <mxPoint x="13915.468571428572" y="-22565.505" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1778" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1781" target="1790" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1779" value="else if (typeof type === 'string')&lt;br&gt;原生&amp;nbsp;html&amp;nbsp;元素类型" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1781" target="1794" edge="1">
                    <mxGeometry x="0.561" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1780" value="else&lt;br&gt;其它类型，例如&amp;nbsp;fragment" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry x="0.8207" relative="1" as="geometry">
                        <mxPoint x="14115.928470059218" y="-22616.43103448276" as="sourcePoint"/>
                        <mxPoint x="14427.440000000002" y="-22567.160000000003" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1781" value="判断&amp;nbsp;type" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=center;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14034.94" y="-22637.36" width="80" height="41.87" as="geometry"/>
                </mxCell>
                <mxCell id="1782" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1784" target="1785" edge="1">
                    <mxGeometry x="0.6901" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1783" value="true" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1784" target="1787" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1784" value="if (shouldConstruct(type))&lt;br&gt;判断是否&amp;nbsp;class&amp;nbsp;组件" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13842.44" y="-22567.16" width="148" height="71" as="geometry"/>
                </mxCell>
                <mxCell id="1785" value="&lt;div&gt;&amp;nbsp; const prototype = Component.prototype;&lt;/div&gt;&lt;div&gt;&amp;nbsp; return !!(prototype &amp;amp;&amp;amp; prototype.isReactComponent);&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;b&gt;&lt;font color=&quot;#9933ff&quot;&gt;&amp;nbsp; //&amp;nbsp; react&amp;nbsp;内部判断class&amp;nbsp;组件就是&amp;nbsp;通过 isReactComponent&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13481.44" y="-22477.5" width="339.87" height="58.31" as="geometry"/>
                </mxCell>
                <mxCell id="1786" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1787" target="1790" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1787" value="&amp;nbsp;fiberTag = ClassComponent;&lt;br&gt;//&amp;nbsp; 类组件的&amp;nbsp;tag&amp;nbsp;为 1" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13835.69" y="-22457.5" width="161.5" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="1788" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1790" target="1808" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1789" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;dashed=1;labelBackgroundColor=none;" parent="1" source="1790" target="1806" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="14075" y="-22284"/>
                            <mxPoint x="13448" y="-22284"/>
                            <mxPoint x="13448" y="-25471"/>
                            <mxPoint x="8633" y="-25471"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1790" value="&lt;div&gt;&amp;nbsp; const fiber = createFiber(fiberTag, pendingProps, key, mode);&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13902.32" y="-22331.5" width="345.25" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1791" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1792" target="1774" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="13825.44" y="-22143.5"/>
                            <mxPoint x="13825.44" y="-22665.5"/>
                            <mxPoint x="13642.44" y="-22665.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1792" value="&amp;nbsp; return fiber;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14035.44" y="-22156.5" width="79.5" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="1793" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1794" target="1790" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="14216.44" y="-22375.5"/>
                            <mxPoint x="14075.44" y="-22375.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1794" value="&amp;nbsp;fiberTag = HostComponent;" style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14135.44" y="-22558.5" width="162" height="35.01" as="geometry"/>
                </mxCell>
                <mxCell id="1795" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1796" target="1798" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1796" value="switch (type)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14376.44" y="-22567.16" width="100" height="48.66" as="geometry"/>
                </mxCell>
                <mxCell id="1797" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1798" target="1790" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="14426.44" y="-22374.5"/>
                            <mxPoint x="14075.44" y="-22374.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1798" value="fiberTag = ..." style="whiteSpace=wrap;html=1;rounded=0;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14378.44" y="-22457.5" width="96" height="25.67" as="geometry"/>
                </mxCell>
                <mxCell id="1799" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1801" target="1664" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1800" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1801" target="1804" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="8187.6900000000005" y="-25142.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1801" value="&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; workInProgress = createFiber(&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; current.tag,&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; pendingProps,&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; current.key,&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; current.mode,&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7610.71" y="-25188.5" width="168" height="91" as="geometry"/>
                </mxCell>
                <mxCell id="1802" value="&lt;div&gt;function FiberNode(&lt;/div&gt;&lt;div&gt;&amp;nbsp; tag: WorkTag,&lt;/div&gt;&lt;div&gt;&amp;nbsp; pendingProps: mixed,&lt;/div&gt;&lt;div&gt;&amp;nbsp; key: null | string,&lt;/div&gt;&lt;div&gt;&amp;nbsp; mode: TypeOfMode,&lt;/div&gt;&lt;div&gt;) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Instance&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.tag = tag;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.key = key;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // createElement 时第一个参数 ，type&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.elementType = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 异步组件resolved之后返回的内容，一般是`function`或者`class`&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.type = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 对应的这个节点的真实 dom&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.stateNode = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Fiber&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.return = null;&amp;nbsp; &amp;nbsp;// 当前节点的 父节点&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.child = null;&amp;nbsp; &amp;nbsp; // 当前节点的 子节点&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.sibling = null;&amp;nbsp; // 当前节点的 兄弟节点(后一个节点)&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.index = 0;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 当前节点的 索引(用于更新时候的复用)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.ref = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.pendingProps = pendingProps; // 新的 props&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.memoizedProps = null;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 旧的(上一次) props&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.updateQueue = null;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 当前 fiber 的更新队列&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.memoizedState = null;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 旧的(上一次) state 里面有缓存，react 使用的是 Map 作为缓存&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.dependencies = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.mode = mode;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Effects&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.flags = NoFlags;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.subtreeFlags = NoFlags;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.deletions = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.lanes = NoLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.childLanes = NoLanes;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 记录着上一次的 fiber&lt;/div&gt;&lt;div&gt;&amp;nbsp; // 每次渲染结束后 会交换位置， current《====》 alternate 不需要平凡&lt;/div&gt;&lt;div&gt;&amp;nbsp; this.alternate = null;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (enableProfilerTimer) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Note: The following is done to avoid a v8 performance cliff.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; //&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Initializing the fields below to smis and later updating them with&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // double values will cause Fibers to end up having separate shapes.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // This behavior/bug has something to do with Object.preventExtension().&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Fortunately this only impacts DEV builds.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Unfortunately it makes React unusably slow for some applications.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // To work around this, initialize the fields below with doubles.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; //&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Learn more about this here:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // https://github.com/facebook/react/issues/14365&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // https://bugs.chromium.org/p/v8/issues/detail?id=8538&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.actualDuration = Number.NaN;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.actualStartTime = Number.NaN;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.selfBaseDuration = Number.NaN;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.treeBaseDuration = Number.NaN;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // It's okay to replace the initial doubles with smis after initialization.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // This won't trigger the performance cliff mentioned above,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // and it simplifies other profiler code (including DevTools).&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.actualDuration = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.actualStartTime = -1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.selfBaseDuration = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.treeBaseDuration = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (__DEV__) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // This isn't directly used but is handy for debugging internals:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this._debugID = debugCounter++;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this._debugSource = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this._debugOwner = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this._debugNeedsRemount = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this._debugHookTypes = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (!hasBadMapPolyfill &amp;amp;&amp;amp; typeof Object.preventExtensions === 'function') {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; Object.preventExtensions(this);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7778" y="-26764" width="589" height="1269" as="geometry"/>
                </mxCell>
                <mxCell id="1803" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1804" target="1805" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1804" value="return new FiberNode(tag, pendingProps, key, mode);" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8164.6900000000005" y="-25164.5" width="304" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="1805" value="https://github.com/facebook/react/blob/v17.0.2/packages/react-reconciler/src/ReactFiber.old.js#L116&lt;br&gt;fiber&amp;nbsp;节点属性" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8513.69" y="-25171.75" width="549" height="56.25" as="geometry"/>
                </mxCell>
                <mxCell id="1806" value="createFiber 创建 fiber 节点" style="swimlane;rounded=0;dashed=1;sketch=0;fillColor=none;align=center;startSize=36;fontStyle=1;fontSize=13;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8153.6900000000005" y="-25259.5" width="957" height="183" as="geometry"/>
                </mxCell>
                <mxCell id="1807" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1808" target="1792" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1808" value="&lt;div style=&quot;font-size: 12px ; text-align: left&quot;&gt;&amp;nbsp; fiber.elementType = type;&lt;/div&gt;&lt;div style=&quot;font-size: 12px ; text-align: left&quot;&gt;&amp;nbsp; fiber.type = resolvedType;&lt;/div&gt;&lt;div style=&quot;font-size: 12px ; text-align: left&quot;&gt;&amp;nbsp; fiber.lanes = lanes;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fontSize=13;align=center;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13992.44" y="-22262.5" width="165" height="63" as="geometry"/>
                </mxCell>
                <mxCell id="1809" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1810" target="1811" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12675.69" y="-22691.5"/>
                            <mxPoint x="12675.69" y="-23246.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1810" value="&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return created;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13131.19" y="-22707.75" width="115.5" height="31.25" as="geometry"/>
                </mxCell>
                <mxCell id="1811" value="&amp;nbsp; //&amp;nbsp;placeSingleChild&lt;br&gt;&lt;div&gt;&amp;nbsp; function placeSingleChild(newFiber: Fiber): Fiber {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (shouldTrackSideEffects &amp;amp;&amp;amp; newFiber.alternate === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; newFiber.flags |= Placement;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return newFiber;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fontSize=13;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12148.69" y="-23274.5" width="383" height="112" as="geometry"/>
                </mxCell>
                <mxCell id="1812" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;endArrow=none;labelBackgroundColor=none;" parent="1" source="1872" target="1811" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="13104.44" y="-23248.383" as="targetPoint"/>
                        <mxPoint x="10886.69" y="-23246.9" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1813" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1815" target="1817" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1814" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1815" target="1819" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1815" value="resetHydrationState();" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8940.310000000001" y="-23795.5" width="140.24" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="1816" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1817" target="1692" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1817" value="&amp;nbsp; return workInProgress.child;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8926.3" y="-23603.5" width="168.26" height="37.5" as="geometry"/>
                </mxCell>
                <mxCell id="1818" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1819" target="1817" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1819" value="&lt;div&gt;&amp;nbsp; if (!supportsHydration) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; hydrationParentFiber = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; nextHydratableInstance = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; isHydrating = false;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;shadow=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9136.69" y="-23752.5" width="216" height="105.5" as="geometry"/>
                </mxCell>
                <mxCell id="1820" value="false" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1823" target="1827" edge="1">
                    <mxGeometry x="0.0244" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1821" value="true" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1823" target="1829" edge="1">
                    <mxGeometry x="0.557" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1822" value="开始&amp;nbsp;冒泡" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1821" vertex="1" connectable="0">
                    <mxGeometry x="0.6782" y="-1" relative="1" as="geometry">
                        <mxPoint x="1" y="5" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1823" value="&amp;nbsp; if (next === null)&lt;br&gt;是否&amp;nbsp;递归到底了" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=center;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7176.1900000000005" y="-24786.5" width="98" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="1824" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;fontSize=13;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="1830" target="1677" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7061.6900000000005" y="-24585.5"/>
                            <mxPoint x="7061.6900000000005" y="-25105.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1825" value="递归" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1824" vertex="1" connectable="0">
                    <mxGeometry x="-0.6285" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1826" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1827" target="1830" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1827" value="&amp;nbsp; workInProgress = next;" style="whiteSpace=wrap;html=1;fontSize=10;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7166.6900000000005" y="-24690.5" width="117" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="1828" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1829" target="1830" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7395.6900000000005" y="-24628.5"/>
                            <mxPoint x="7225.6900000000005" y="-24628.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1829" value="&amp;nbsp;completeUnitOfWork(unitOfWork);" style="whiteSpace=wrap;html=1;fontSize=10;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7288" y="-24685" width="190" height="32" as="geometry"/>
                </mxCell>
                <mxCell id="1830" value="&amp;nbsp;ReactCurrentOwner.current = null;" style="whiteSpace=wrap;html=1;fontSize=10;labelBackgroundColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7139.9400000000005" y="-24601.5" width="170.5" height="31.5" as="geometry"/>
                </mxCell>
                <mxCell id="1831" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="2001" target="1890" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="15650.065809987389" y="-24290.375" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1832" value="" style="group;labelBackgroundColor=none;" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="9613.88" y="-23250.5" width="883" height="872" as="geometry"/>
                </mxCell>
                <mxCell id="1833" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;dashed=1;shadow=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry width="883" height="872" as="geometry"/>
                </mxCell>
                <mxCell id="1834" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newState = getStateFromUpdate(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; workInProgress,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; queue,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; update,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newState,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; props,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; const callback = update.callback;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="20.38000000000011" y="13" width="218.25" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="1835" value="&amp;nbsp; switch (update.tag)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="387.7600000000002" y="50" width="131.24" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="1836" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1834" target="1835" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1837" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const payload = update.payload;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; let partialState;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="351.90999999999985" y="195" width="202.93" height="56" as="geometry"/>
                </mxCell>
                <mxCell id="1838" value="case UpdateState" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1835" target="1837" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1839" value="&amp;nbsp; &amp;nbsp;if (typeof payload === 'function')&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="348.0699999999997" y="297" width="210.63" height="61" as="geometry"/>
                </mxCell>
                <mxCell id="1840" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1837" target="1839" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1841" value="&amp;nbsp; partialState = payload.call(instance, prevState, nextProps);" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="271.6700000000001" y="397" width="363.43" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="1842" value="true" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1839" target="1841" edge="1">
                    <mxGeometry x="-0.2818" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1843" value="&amp;nbsp; return Object.assign({}, prevState, partialState);" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="313.21000000000004" y="492" width="280.33" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="1844" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1841" target="1843" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1845" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1832" source="1846" target="1843" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1846" value="&amp;nbsp; partialState = payload;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="654" y="400" width="152" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="1847" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1839" target="1846" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1848" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1847" vertex="1" connectable="0">
                    <mxGeometry x="-0.6724" relative="1" as="geometry">
                        <mxPoint x="27" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1849" value="const callback = update.callback;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="33.25" y="242" width="192.49" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="1850" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1834" target="1849" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1851" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1832" source="1843" target="1849" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="260" y="511"/>
                            <mxPoint x="260" y="222"/>
                            <mxPoint x="130" y="222"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1852" value="&amp;nbsp; if (callback !== null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="65.75" y="306" width="127.51" height="64" as="geometry"/>
                </mxCell>
                <mxCell id="1853" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1849" target="1852" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1854" value="&amp;nbsp; &amp;nbsp;workInProgress.flags |= Callback;&lt;br&gt;&amp;nbsp; &amp;nbsp;const effects = queue.effects;&lt;br&gt;&amp;nbsp; &amp;nbsp;if (effects === null) {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; queue.effects = [update];&lt;br&gt;&amp;nbsp; &amp;nbsp;} else {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; effects.push(update);&lt;br&gt;&amp;nbsp; &amp;nbsp;}" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="26.88000000000011" y="395" width="205.25" height="111" as="geometry"/>
                </mxCell>
                <mxCell id="1855" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1852" target="1854" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1856" value="&lt;span&gt;&amp;nbsp; update = update.next;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="61.36999999999989" y="531" width="136.25" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1857" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1854" target="1856" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1858" value="&amp;nbsp;if (update === null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="66.75" y="602" width="126.51" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="1859" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1856" target="1858" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1860" value="&amp;nbsp; &amp;nbsp;pendingQueue = queue.shared.pending;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="9.010000000000218" y="676" width="241.99" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="1861" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1858" target="1860" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1862" value="&amp;nbsp; if (pendingQueue === null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="47.38000000000011" y="731" width="165.25" height="47" as="geometry"/>
                </mxCell>
                <mxCell id="1863" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1860" target="1862" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1864" value="break;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="109" y="814" width="42" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="1865" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1862" target="1864" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1866" value="&lt;div&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp;// 更新是从 reducer 内部安排的。将新的 pending更新添加到列表的末尾并继续处理。&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp;const lastPendingUpdate = pendingQueue;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;// 故意不健全。待处理的更新形成一个循环列表，但我们在将它们传输到基本队列时解开它们。&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;const firstPendingUpdate = ((lastPendingUpdate.next: any): Update&amp;lt;State&amp;gt;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;lastPendingUpdate.next = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;update = firstPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;queue.lastBaseUpdate = lastPendingUpdate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;queue.shared.pending = null;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1832" vertex="1">
                    <mxGeometry x="316" y="672.75" width="520.74" height="163.5" as="geometry"/>
                </mxCell>
                <mxCell id="1867" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1832" source="1862" target="1866" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1868" value="" style="group;labelBackgroundColor=none;" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="10672.69" y="-23463.5" width="777" height="555" as="geometry"/>
                </mxCell>
                <mxCell id="1869" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fontSize=13;fillColor=none;align=left;shadow=1;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry width="777" height="555" as="geometry"/>
                </mxCell>
                <mxCell id="1870" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=0;fillColor=none;align=left;dashed=1;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="17" y="16" width="731.5" height="314" as="geometry"/>
                </mxCell>
                <mxCell id="1871" value="&amp;nbsp; switch (newChild.$$typeof)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=center;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="279" y="34" width="192" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="1872" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return placeSingleChild(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reconcileSingleElement(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="31" y="156" width="183" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1873" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1868" source="1871" target="1872" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1874" value="&amp;nbsp;case REACT_ELEMENT_TYPE:&lt;br&gt;通过&amp;nbsp;createElement 创建的基本类型" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1873" vertex="1" connectable="0">
                    <mxGeometry x="0.6527" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1875" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return placeSingleChild(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reconcileSinglePortal(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="283.5" y="156" width="183" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1876" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1868" source="1871" target="1875" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1877" value="&amp;nbsp;case REACT_PORTAL_TYPE：&lt;br&gt;通过&amp;nbsp;ReactDOM.createPortal&amp;nbsp;创建的类型" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1876" vertex="1" connectable="0">
                    <mxGeometry x="0.4754" y="-2" relative="1" as="geometry">
                        <mxPoint x="5" y="-20" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1878" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return placeSingleChild(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reconcileSingleElement(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="508" y="156" width="183" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1879" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1868" source="1871" target="1878" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1880" value="&amp;nbsp;case REACT_LAZY_TYPE:&lt;br&gt;通过 React.lazy&amp;nbsp;创建的类型" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1879" vertex="1" connectable="0">
                    <mxGeometry x="0.6228" y="-2" relative="1" as="geometry">
                        <mxPoint x="2" y="-27" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1881" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (isArray(newChild)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return reconcileChildrenArray(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="134" y="405" width="196" height="124" as="geometry"/>
                </mxCell>
                <mxCell id="1882" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (getIteratorFn(newChild)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return reconcileChildrenIterator(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; returnFiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentFirstChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newChild,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fillColor=none;align=left;labelBackgroundColor=none;" parent="1868" vertex="1">
                    <mxGeometry x="445" y="405" width="211" height="124" as="geometry"/>
                </mxCell>
                <mxCell id="1883" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1868" source="1870" target="1881" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1884" value="&amp;nbsp; if (isArray(newChild))" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1883" vertex="1" connectable="0">
                    <mxGeometry x="0.2661" y="1" relative="1" as="geometry">
                        <mxPoint x="-46" y="11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1885" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1868" source="1870" target="1882" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1886" value="&amp;nbsp;if (getIteratorFn(newChild))" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1885" vertex="1" connectable="0">
                    <mxGeometry x="0.0694" relative="1" as="geometry">
                        <mxPoint x="68" y="11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1887" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;shadow=0;labelBackgroundColor=none;" parent="1" source="1869" target="1732" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="10881.69" y="-23730.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1888" value="&lt;div&gt;function completeWork(&lt;/div&gt;&lt;div&gt;&amp;nbsp; current: Fiber | null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; workInProgress: Fiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; renderLanes: Lanes,&lt;/div&gt;&lt;div&gt;): Fiber&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=13;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15643.19" y="-24424" width="147" height="82" as="geometry"/>
                </mxCell>
                <mxCell id="1889" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1890" target="1896" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1890" value="&amp;nbsp; const newProps = workInProgress.pendingProps;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=0;fontSize=13;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15598.19" y="-24315.370000000003" width="300" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="1891" value="case ClassComponent:" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1896" target="1897" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1892" value="case HostRoot:" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1896" target="1899" edge="1">
                    <mxGeometry x="-0.6998" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1893" value="根节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1892" vertex="1" connectable="0">
                    <mxGeometry x="-0.1817" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1894" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1896" target="1901" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="15993.832695591369" y="-24105.418204471982" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="16109.69" y="-24203.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1895" value="&amp;nbsp;case HostComponent:&lt;br&gt;html&amp;nbsp;原生类型" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1894" vertex="1" connectable="0">
                    <mxGeometry x="0.6562" y="3" relative="1" as="geometry">
                        <mxPoint x="8" y="28" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1896" value="&amp;nbsp;switch (workInProgress.tag)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15655.69" y="-24242" width="185" height="69.87" as="geometry"/>
                </mxCell>
                <mxCell id="1897" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const Component = workInProgress.type;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (isLegacyContextProvider(Component)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; popLegacyContext(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; bubbleProperties(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return null;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15224.69" y="-24089.5" width="285" height="105.99" as="geometry"/>
                </mxCell>
                <mxCell id="1898" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1899" target="1980" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1899" value="const fiberRoot = (workInProgress.stateNode: FiberRoot);&lt;br&gt;&amp;nbsp;// 获取到根组件的 真实节点 #root&amp;nbsp;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15572.69" y="-24089.5" width="350" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="1900" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1901" target="1905" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1901" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; popHostContext(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const rootContainerInstance = getRootHostContainer();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 获取 元素类型 例如 div | span&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const type = workInProgress.type;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=0;fontSize=13;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15933.69" y="-24097.5" width="352" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="1902" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1905" target="1906" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1903" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1902" vertex="1" connectable="0">
                    <mxGeometry x="-0.3237" relative="1" as="geometry">
                        <mxPoint x="16" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1904" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1905" target="1909" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1905" value="if (current !== null &amp;amp;&amp;amp; workInProgress.stateNode != null)&lt;br&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;判断是否更新阶段&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15941.19" y="-23962.5" width="337" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="1906" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; updateHostComponent(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; current,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; workInProgress,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; type,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newProps,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rootContainerInstance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (current.ref !== workInProgress.ref) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; markRef(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16385.690000000002" y="-24015.5" width="261" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="1907" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1909" target="1912" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1908" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1909" target="1933" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1909" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; const instance = createInstance(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; type,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newProps,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rootContainerInstance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentHostContext,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; workInProgress,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp; 开始创建真实&amp;nbsp;dom&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15992.69" y="-23829.5" width="234" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="1910" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;startArrow=none;labelBackgroundColor=none;" parent="1" source="1915" target="1914" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1911" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1912" target="1922" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1912" value="&lt;div&gt;&amp;nbsp; const domElement: Instance = createElement(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; props,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rootContainerInstance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parentNamespace,&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16567.690000000002" y="-23817.5" width="288" height="96.5" as="geometry"/>
                </mxCell>
                <mxCell id="1913" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1914" target="1918" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1914" value="&amp;nbsp;domElement = ownerDocument.createElement(type);&lt;br&gt;&amp;nbsp;//&amp;nbsp;通过&amp;nbsp;document&amp;nbsp;对象创建真实&amp;nbsp;dom&amp;nbsp;元素" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17161.690000000002" y="-23654.75" width="327" height="53.5" as="geometry"/>
                </mxCell>
                <mxCell id="1915" value="&lt;div&gt;&amp;nbsp; const ownerDocument: Document = getOwnerDocumentFromRootContainer(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rootContainerElement,&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;//&amp;nbsp; 获取到真实&amp;nbsp;document&amp;nbsp;对象&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=0;fontSize=13;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17088.690000000002" y="-23801.75" width="473" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="1916" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;endArrow=none;labelBackgroundColor=none;" parent="1" source="1912" target="1915" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="16855.690000000002" y="-23769.166666666664" as="sourcePoint"/>
                        <mxPoint x="17156.190000000002" y="-23628.75" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1917" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.002;entryY=0.71;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;fontColor=none;" parent="1" source="1918" target="1912" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="17068" y="-23537"/>
                            <mxPoint x="17068" y="-23749"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1918" value="&amp;nbsp; return domElement;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17257.440000000002" y="-23554.5" width="135.5" height="35.75" as="geometry"/>
                </mxCell>
                <mxCell id="1919" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="1922" target="1923" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1920" value="给真实&amp;nbsp;dom&amp;nbsp;身上记录 fiber&amp;nbsp;对象" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1919" vertex="1" connectable="0">
                    <mxGeometry x="0.2864" y="1" relative="1" as="geometry">
                        <mxPoint x="-1" y="12" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1921" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;labelBackgroundColor=none;" parent="1" source="1922" target="1927" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1922" value="&amp;nbsp; precacheFiberNode(internalInstanceHandle, domElement);" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16533.690000000002" y="-23624.75" width="356" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="1923" value="(node: any)[internalInstanceKey] = hostInst;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16817.690000000002" y="-23527.75" width="262" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="1924" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontSize=13;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="1927" target="1928" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1925" value="给真实&amp;nbsp;dom&amp;nbsp;身上记录 props&amp;nbsp;属性" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;labelBackgroundColor=none;" parent="1924" vertex="1" connectable="0">
                    <mxGeometry x="0.6678" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1926" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1927" target="1930" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1927" value="&amp;nbsp; updateFiberProps(domElement, props);" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16572.190000000002" y="-23462.75" width="279" height="56" as="geometry"/>
                </mxCell>
                <mxCell id="1928" value="(node: any)[internalPropsKey] = props;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16825.690000000002" y="-23369.75" width="246" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="1929" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.006;entryY=0.814;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;fontColor=none;" parent="1" source="1930" target="1909" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="16348" y="-23328"/>
                            <mxPoint x="16348" y="-23731"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1930" value="&amp;nbsp; return domElement;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16640.190000000002" y="-23351.75" width="143" height="47" as="geometry"/>
                </mxCell>
                <mxCell id="1931" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;entryX=0;entryY=0.521;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="1933" target="1937" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="18023.699999999997" y="-23647.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1932" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1933" target="1939" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1933" value="appendAllChildren(instance, workInProgress, false, false);&lt;br&gt;将当前元素的子元素全部&amp;nbsp;插入进去，如果没有，则什么都不做" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15929.69" y="-23667.5" width="360" height="38.5" as="geometry"/>
                </mxCell>
                <mxCell id="1934" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.476;entryY=0.037;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;fontColor=#000000;" parent="1" source="1935" target="1959" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1935" value="&amp;nbsp; &amp;nbsp; let node = workInProgress.child;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18022.2" y="-23584" width="233" height="44.75" as="geometry"/>
                </mxCell>
                <mxCell id="1936" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;fontColor=#000000;" parent="1" source="1937" target="1935" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1937" value="while (node !== null)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=center;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18065.940000000002" y="-23683.879999999997" width="146.5" height="65.63" as="geometry"/>
                </mxCell>
                <mxCell id="1938" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1939" target="1943" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1939" value="&amp;nbsp;workInProgress.stateNode = instance;&amp;nbsp;&lt;br&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;记录自己的真实&amp;nbsp;node&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15986.69" y="-23586.5" width="246" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="1940" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1941" target="1945" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1941" value="&lt;div&gt;&amp;nbsp; if (workInProgress.ref !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; markRef(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;//&amp;nbsp;是否有ref&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15990.69" y="-23292.5" width="238" height="76.5" as="geometry"/>
                </mxCell>
                <mxCell id="1942" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1943" target="1941" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1943" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; finalizeInitialChildren(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; type,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newProps,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rootContainerInstance,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentHostContext,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; markUpdate(workInProgress);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;是否需要自动聚焦&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="15975.19" y="-23507.5" width="269" height="182" as="geometry"/>
                </mxCell>
                <mxCell id="1944" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1945" target="1947" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1945" value="&amp;nbsp;bubbleProperties(workInProgress);" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16002.19" y="-23176" width="215" height="54.25" as="geometry"/>
                </mxCell>
                <mxCell id="1946" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1947" target="2001" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="14935" y="-23054"/>
                            <mxPoint x="14935" y="-23767"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1947" value="return null" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=center;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="16056.19" y="-23071.5" width="107" height="37.13" as="geometry"/>
                </mxCell>
                <mxCell id="1948" value="while (completedWork !== null);" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7958.1900000000005" y="-23135" width="178" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="1949" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;entryX=0;entryY=0.457;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=none;" parent="1" source="1829" target="1993" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="8016.627174479167" y="-24669.5" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="7508" y="-24667"/>
                            <mxPoint x="7508" y="-24147"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1950" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;exitX=0.02;exitY=0.505;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="2010" target="1829" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7490" y="-23351"/>
                            <mxPoint x="7490" y="-24669"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1951" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1950" vertex="1" connectable="0">
                    <mxGeometry x="-0.9584" y="-3" relative="1" as="geometry">
                        <mxPoint y="3" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1952" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;" parent="1" source="2003" target="1829" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7810" y="-23654"/>
                            <mxPoint x="7493" y="-23654"/>
                            <mxPoint x="7493" y="-24669"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1953" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1952" vertex="1" connectable="0">
                    <mxGeometry x="-0.8903" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1954" value="if (node.tag === HostComponent || node.tag === HostText)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry x="0.8659" relative="1" as="geometry">
                        <mxPoint x="18103.190000000002" y="-23477" as="sourcePoint"/>
                        <mxPoint x="17836.690000000002" y="-23385.5" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1955" value="原生&amp;nbsp;dom&amp;nbsp;元素" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1954" vertex="1" connectable="0">
                    <mxGeometry x="0.5711" relative="1" as="geometry">
                        <mxPoint y="22" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1956" value="else if (node.tag === HostPortal)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;exitX=0.496;exitY=1.07;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.492;entryY=-0.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="1962" edge="1">
                    <mxGeometry x="0.2945" relative="1" as="geometry">
                        <mxPoint x="18138" y="-23349" as="targetPoint"/>
                        <mxPoint x="18139.38235294118" y="-23443.970588235294" as="sourcePoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1957" value="else if (node.child !== null)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1959" target="1964" edge="1">
                    <mxGeometry x="0.7362" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1958" value="if (node === workInProgress)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1959" target="1972" edge="1">
                    <mxGeometry x="-0.9288" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                        <mxPoint x="16595.190000000002" y="-23346.5" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="18140" y="-22542"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1959" value="判断节点类型" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18101.190000000002" y="-23498.5" width="80" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="1960" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1961" target="1966" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1961" value="&amp;nbsp;appendInitialChild(parent, node.stateNode);" style="whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17717.190000000002" y="-23389.5" width="249.99" height="42.25" as="geometry"/>
                </mxCell>
                <mxCell id="1962" value="portal&amp;nbsp;类型则什么都不做" style="whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18177.95" y="-23384" width="141.5" height="38" as="geometry"/>
                </mxCell>
                <mxCell id="1963" value="Text" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontColor=none;" parent="1962" vertex="1">
                    <mxGeometry x="92.04999999999927" y="18" width="40" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="1964" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;node.child.return = node;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;node = node.child;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;continue;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18365.83705882353" y="-23394" width="216" height="59" as="geometry"/>
                </mxCell>
                <mxCell id="1965" value="所有子元素都已经挂载完毕" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1966" target="1970" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1966" value="&amp;nbsp;while (node.sibling === null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=center;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17750.190000000002" y="-22970.19" width="184" height="54.57" as="geometry"/>
                </mxCell>
                <mxCell id="1967" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1970" target="1972" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1968" value="继续递归父元素" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;entryX=0.475;entryY=0.033;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="1970" target="1975" edge="1">
                    <mxGeometry x="0.5401" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                        <mxPoint x="18138" y="-22742.48999999999" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1969" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="1968" vertex="1" connectable="0">
                    <mxGeometry x="0.0958" relative="1" as="geometry">
                        <mxPoint x="-38" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1970" value="if (node.return === null || node.return === workInProgress)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=center;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17654.690000000002" y="-22850.69" width="375" height="61.93" as="geometry"/>
                </mxCell>
                <mxCell id="1971" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="1972" target="1933" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="17635.690000000002" y="-22539.5"/>
                            <mxPoint x="17635.690000000002" y="-23649.5"/>
                            <mxPoint x="16289.69" y="-23649.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1972" value="return" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="17802.690000000002" y="-22558.28" width="79" height="31.1" as="geometry"/>
                </mxCell>
                <mxCell id="1973" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.462;entryY=0.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="1975" target="1977" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="18107.190000000002" y="-22673.999999999993" as="sourcePoint"/>
                        <mxPoint x="18107" y="-22656" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1974" value="继续递归兄弟节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1973" vertex="1" connectable="0">
                    <mxGeometry x="-0.2681" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1975" value="&amp;nbsp;node = node.return;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18037.190000000002" y="-22743.823333333326" width="147" height="40.99" as="geometry"/>
                </mxCell>
                <mxCell id="1976" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.014;entryY=0.485;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;entryPerimeter=0;exitX=-0.005;exitY=0.642;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="1977" target="1937" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="18038.690000000002" y="-22611.5" as="sourcePoint"/>
                        <mxPoint x="18023.699999999997" y="-23647.125" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="17678" y="-22613"/>
                            <mxPoint x="17678" y="-23652"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1977" value="node.sibling.return = node.return;&lt;br&gt;node = node.sibling;" style="whiteSpace=wrap;html=1;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18018.190000000002" y="-22644.18333333333" width="198" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="1978" value="&amp;nbsp; &amp;nbsp; &amp;nbsp; // 因为 fiber 节点的数据结构是 child sibling retun&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 所以每个 fiber 节点都只有一个 child，当 追加完 child 的时候，要继续把 sibling 也追加进去&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 如果还有兄弟节点，则把当前兄弟节点的 return 赋值一份给 兄弟节点的 return，&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 并且将 sibling 赋值给 node，继续循环&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 将 sibling 也追加到父节点身上" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="18218.19073964437" y="-22733.832845052082" width="540" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="1979" value="&lt;p class=&quot;code-line code-line&quot; style=&quot;margin-top: 0px; margin-bottom: 0.7em; position: relative; color: rgb(171, 178, 191); font-size: 16px; font-style: normal; font-weight: 400; letter-spacing: normal; text-indent: 0px; text-transform: none; word-spacing: 0px;&quot;&gt;主要是做一些赋值和优先级标记的工作。&lt;/p&gt;&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0.7em; color: rgb(171, 178, 191); font-size: 16px; font-style: normal; font-weight: 400; letter-spacing: normal; text-indent: 0px; text-transform: none; word-spacing: 0px;&quot;&gt;&lt;li class=&quot;code-line code-line&quot; style=&quot;position: relative&quot;&gt;赋值updateQueue.baseState。若此次render没有更新被跳过，那么赋值为新计算的state，否则赋值为第一个被跳过的更新之前的update。&lt;/li&gt;&lt;li class=&quot;code-line code-line&quot; style=&quot;position: relative&quot;&gt;赋值updateQueue 的 firstBaseUpdate 和 lastBaseUpdate，也就是如果本次有更新被跳过，则将被截取的队列赋值给updateQueue的baseUpdate链表。&lt;/li&gt;&lt;li class=&quot;code-line code-line&quot; style=&quot;position: relative&quot;&gt;更新workInProgress节点的lanes。更新策略为如果没有优先级被跳过，则意味着本次将update都处理完了，lanes清空。否则将低优先级update的优先级放入lanes。之前说过， 此处是再发起一次调度重做低优先级任务的关键。&lt;/li&gt;&lt;li class=&quot;code-line code-line&quot; style=&quot;position: relative&quot;&gt;更新workInProgress节点上的memoizedState。&lt;/li&gt;&lt;/ul&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9976.69" y="-24557.5" width="540" height="248" as="geometry"/>
                </mxCell>
                <mxCell id="1980" value="&amp;nbsp; &amp;nbsp;updateHostContainer(current, workInProgress);" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;fontSize=13;align=left;fillColor=none;sketch=0;" parent="1" vertex="1">
                    <mxGeometry x="15601.69" y="-23962.5" width="292" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="1981" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2016" target="1830" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7418.6900000000005" y="-23440.5"/>
                            <mxPoint x="7418.6900000000005" y="-24585.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1982" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1983" target="1985" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1983" value="&amp;nbsp; workInProgressRoot = null;&lt;br&gt;&amp;nbsp; workInProgressRootRenderLanes = NoLanes;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="6543" y="-25014.5" width="264.02" height="47.44" as="geometry"/>
                </mxCell>
                <mxCell id="1984" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="1985" target="1648" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6458" y="-24907.5"/>
                            <mxPoint x="6458" y="-25330.5"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1985" value="&amp;nbsp; return workInProgressRootExitStatus;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6559" y="-24926.5" width="232.01" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="1986" value="开始提交" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1987" target="1989" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="1987" value="&lt;div&gt;&amp;nbsp; const finishedWork: Fiber = (root.current.alternate: any);&lt;/div&gt;&lt;div&gt;&amp;nbsp; root.finishedWork = finishedWork;&lt;/div&gt;&lt;div&gt;&amp;nbsp; root.finishedLanes = lanes;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5851" y="-25292" width="269" height="59" as="geometry"/>
                </mxCell>
                <mxCell id="1988" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1989" target="2300" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6293" y="-21560.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1989" value="&amp;nbsp; commitRoot(root);" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5938.5" y="-25197.75" width="94.39" height="33.25" as="geometry"/>
                </mxCell>
                <mxCell id="1990" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="1992" target="2015" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="1991" value="是否到了根节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1990" vertex="1" connectable="0">
                    <mxGeometry x="-0.002" y="-4" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="1992" value="" style="whiteSpace=wrap;html=1;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7670.1900000000005" y="-24204" width="763" height="1084" as="geometry"/>
                </mxCell>
                <mxCell id="1993" value="&amp;nbsp;let completedWork = unitOfWork;" style="whiteSpace=wrap;html=1;rounded=0;sketch=0;fontSize=13;fillColor=none;align=center;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7784.1900000000005" y="-24167" width="215" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="1994" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const current = completedWork.alternate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const returnFiber = completedWork.return;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=13;fillColor=none;sketch=0;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7758.4400000000005" y="-24046.5" width="266.5" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="1995" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1993" target="1994" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="1996" value="do { ... } while (completedWork !== null);" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontSize=13;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7740.1900000000005" y="-24085" width="239" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="1997" value="if ((completedWork.flags &amp;amp; Incomplete) === NoFlags)" style="rhombus;whiteSpace=wrap;html=1;rounded=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7733.9400000000005" y="-23957" width="315.5" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="1998" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1994" target="1997" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="1999" value="&amp;nbsp;let next;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7860.4400000000005" y="-23862" width="62.5" height="31.5" as="geometry"/>
                </mxCell>
                <mxCell id="2000" value="true" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1997" target="1999" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2001" value="&amp;nbsp;next = completeWork(current, completedWork, subtreeRenderLanes);" style="whiteSpace=wrap;html=1;rounded=0;fontSize=13;align=left;fillColor=#1ba1e2;sketch=0;strokeColor=#006EAF;fontColor=#ffffff;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7680.4400000000005" y="-23785.75" width="422.5" height="37.75" as="geometry"/>
                </mxCell>
                <mxCell id="2002" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;labelBackgroundColor=none;" parent="1" source="1999" target="2001" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2003" value="&lt;div&gt;&amp;nbsp;if (next !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;span&gt;&amp;nbsp; workInProgress = next;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; } //&amp;nbsp;如果还有子元素继续递归&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7809.1900000000005" y="-23684" width="165" height="69" as="geometry"/>
                </mxCell>
                <mxCell id="2004" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="2001" target="2003" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2005" value="" style="whiteSpace=wrap;html=1;rounded=0;fontSize=13;align=left;fillColor=none;sketch=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8227.19" y="-23954.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2006" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="1997" target="2005" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2007" value="const siblingFiber = completedWork.sibling;" style="whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7759.4400000000005" y="-23489" width="265.5" height="48.5" as="geometry"/>
                </mxCell>
                <mxCell id="2008" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="2003" target="2007" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2009" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;" parent="1" source="2005" target="2007" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry">
                        <Array as="points">
                            <mxPoint x="8287.19" y="-23544"/>
                            <mxPoint x="7892.1900000000005" y="-23544"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2010" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (siblingFiber !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // If there is more work to do in this returnFiber, do that next.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; workInProgress = siblingFiber;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&amp;nbsp; &amp;nbsp; //&amp;nbsp;如果还有兄弟元素继续递归&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7713.1900000000005" y="-23396" width="357" height="89.25" as="geometry"/>
                </mxCell>
                <mxCell id="2011" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="2007" target="2010" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2012" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // 如果 兄弟节点也没有了，则表示当前父节点下的所有 child&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 都生成了 真实 dom，返回父级的fiber&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; completedWork = returnFiber;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Update the next thing we're working on in case something throws.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; workInProgress = completedWork;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7702.6900000000005" y="-23247" width="379" height="86.13" as="geometry"/>
                </mxCell>
                <mxCell id="2013" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;" parent="1" source="2010" target="2012" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2014" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2015" target="2016" edge="1">
                    <mxGeometry x="6566.5" y="-24180" as="geometry"/>
                </mxCell>
                <mxCell id="2015" value="&amp;nbsp;if (workInProgressRootExitStatus === RootIncomplete)&amp;nbsp;&lt;br&gt;&amp;nbsp; 0 === 0" style="rhombus;whiteSpace=wrap;html=1;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7894.4400000000005" y="-23060" width="314.5" height="63" as="geometry"/>
                </mxCell>
                <mxCell id="2016" value="workInProgressRootExitStatus = RootCompleted;" style="whiteSpace=wrap;html=1;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7914.57" y="-22954" width="274.25" height="57" as="geometry"/>
                </mxCell>
                <mxCell id="2017" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2018" target="1989" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6253" y="-21320"/>
                            <mxPoint x="6253" y="-25173"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2018" value="return null;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;align=center;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6326" y="-21334.5" width="96" height="28.5" as="geometry"/>
                </mxCell>
                <mxCell id="2019" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2020" target="1610" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2020" value="return null" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5632.78" y="-25295.5" width="54.99" height="32.38" as="geometry"/>
                </mxCell>
                <mxCell id="2021" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2022" target="1583" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4614" y="-26426"/>
                            <mxPoint x="4614" y="-27506"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2022" value="&amp;nbsp; return lane;" style="whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4877.5" y="-26443.5" width="83.68" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="2023" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.008;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2025" target="2027" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6612" y="-27396" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2024" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2025" target="1541" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4042" y="-27325"/>
                            <mxPoint x="4042" y="-29421"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2025" value="&amp;nbsp;//&amp;nbsp;返回&amp;nbsp;fiber&amp;nbsp;根的真实&amp;nbsp;dom&lt;br&gt;&amp;nbsp;return getPublicRootInstance(fiberRoot);" style="whiteSpace=wrap;html=1;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="4218.93" y="-27357" width="237.38" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2026" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2027" target="2031" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2027" value="&amp;nbsp;const containerFiber = container.current;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="6643.25" y="-27363.99" width="248" height="41" as="geometry"/>
                </mxCell>
                <mxCell id="2028" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2031" target="2032" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2029" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2031" target="2037" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6890.5" y="-27237"/>
                            <mxPoint x="6890.5" y="-27107"/>
                            <mxPoint x="6763.5" y="-27107"/>
                            <mxPoint x="6763.5" y="-27057"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2030" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2029" vertex="1" connectable="0">
                    <mxGeometry x="-0.4927" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2031" value="if (!containerFiber.child)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="6677.25" y="-27263.99" width="175.25" height="53.99" as="geometry"/>
                </mxCell>
                <mxCell id="2032" value="return&amp;nbsp;null" style="whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="6725.21" y="-27165" width="78.63" height="31.51" as="geometry"/>
                </mxCell>
                <mxCell id="2033" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2037" target="2038" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6582.5" y="-27012"/>
                            <mxPoint x="6582.5" y="-26892"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2034" value="&amp;nbsp;case HostComponent:" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2033" vertex="1" connectable="0">
                    <mxGeometry x="0.2383" y="-1" relative="1" as="geometry">
                        <mxPoint y="12" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2035" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2037" target="2040" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6912.5" y="-27012"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2036" value="default:" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2035" vertex="1" connectable="0">
                    <mxGeometry x="0.1197" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2037" value="switch (containerFiber.child.tag)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="6664.700000000001" y="-27048" width="199.65" height="71" as="geometry"/>
                </mxCell>
                <mxCell id="2038" value="&amp;nbsp;return getPublicInstance(containerFiber.child.stateNode);" style="whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="6418.02" y="-26892" width="329.82" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="2039" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2040" target="2025" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6913" y="-26824"/>
                            <mxPoint x="6348" y="-26824"/>
                            <mxPoint x="6348" y="-27326"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2040" value="&amp;nbsp;return containerFiber.child.stateNode;" style="whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="6790.5" y="-26892" width="243.01" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="2041" value="function legacyRenderSubtreeIntoContainer(&#10;  parentComponent: ?React$Component&lt;any, any&gt;,&#10;  children: ReactNodeList,&#10;  container: Container,&#10;  forceHydrate: boolean,&#10;  callback: ?Function,&#10;)" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="4164.003831380209" y="-29620.003272298174" width="258" height="106" as="geometry"/>
                </mxCell>
                <mxCell id="2042" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2043" target="2046" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2043" value="&lt;span&gt;&amp;nbsp; let root = container._reactRootContainer;&lt;/span&gt;&lt;br&gt;&lt;span&gt;&amp;nbsp; let fiberRoot: FiberRoot;&lt;/span&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="4219" y="-29482.5" width="245" height="59" as="geometry"/>
                </mxCell>
                <mxCell id="2044" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2046" target="1578" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="4311.5" y="-29247.380859375" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2045" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2046" target="2048" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="4403.725641025641" y="-29373.235714285714" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2046" value="if (!root)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;" parent="1" vertex="1">
                    <mxGeometry x="4308.25" y="-29394" width="66.5" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="2047" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2048" target="2050" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2048" value="&amp;nbsp;fiberRoot = root._internalRoot;" style="whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="4451" y="-29395.25" width="202" height="41.5" as="geometry"/>
                </mxCell>
                <mxCell id="2049" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2050" target="2025" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4059" y="-29250"/>
                            <mxPoint x="4059" y="-27336"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2050" value="&amp;nbsp;updateContainer(children, fiberRoot, parentComponent, callback);" style="whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="4370" y="-29268.75" width="364" height="38" as="geometry"/>
                </mxCell>
                <mxCell id="2051" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2052" target="1539" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2052" value="ReactDOM.render(&amp;lt;App /&amp;gt;, root);" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="3746.5" y="-29673" width="198" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2053" value="return null;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;align=center;verticalAlign=top;fillColor=none;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6326" y="-21334.5" width="96" height="28.5" as="geometry"/>
                </mxCell>
                <mxCell id="2054" value="&amp;nbsp;在执行本次 mutation 前先看一下是否还有未完成的操作" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6720" y="-21569" width="305" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2055" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(22, 27, 34); font-family: &amp;quot;fira code light&amp;quot;, consolas, &amp;quot;courier new&amp;quot;, monospace; font-weight: normal; font-size: 17px; line-height: 30px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #61afef&quot;&gt;commitRootImpl&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="6272.000325520836" y="-21716.49951171875" width="166" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="2056" value="flushPassiveEffects();" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;align=center;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6732" y="-21509.87" width="175.99" height="32.75" as="geometry"/>
                </mxCell>
                <mxCell id="2057" value="do&amp;nbsp; ... while" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6738" y="-21552" width="70" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2058" value="while(rootWithPendingPassiveEffects !== null)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6732" y="-21444" width="255" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2059" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2061" target="2067" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2060" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2061" target="2122" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2061" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // 第一步&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const shouldFireAfterActiveInstanceBlur = commitBeforeMutationEffects(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; root,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; finishedWork,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="6569" y="-20677" width="425.25" height="91" as="geometry"/>
                </mxCell>
                <mxCell id="2062" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2063" target="2065" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2063" value="&lt;div&gt;&amp;nbsp; const finishedWork = root.finishedWork;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const lanes = root.finishedLanes;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="6657.12" y="-20867" width="249" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="2064" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2065" target="2061" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2065" value="&lt;div&gt;&amp;nbsp; root.finishedWork = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; root.finishedLanes = NoLanes;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="6683.12" y="-20787" width="197" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="2066" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2067" target="2070" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2067" value="focusedInstanceHandle = prepareForCommit(root.containerInfo);" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7036.12" y="-20648.25" width="363.01" height="33.5" as="geometry"/>
                </mxCell>
                <mxCell id="2068" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2070" target="2073" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2069" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2070" target="2358" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2070" value="&lt;div&gt;&amp;nbsp; nextEffect = firstChild;&lt;/div&gt;&lt;div&gt;&amp;nbsp; commitBeforeMutationEffects_begin();&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7100.88" y="-20569" width="233.49" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2071" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2073" target="2076" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2072" value="判断是否有删除" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2071" vertex="1" connectable="0">
                    <mxGeometry x="-0.3521" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2073" value="&amp;nbsp; const fiber = nextEffect;&lt;br&gt;&amp;nbsp; const deletions = fiber.deletions;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7510.12" y="-20566.75" width="186" height="37.5" as="geometry"/>
                </mxCell>
                <mxCell id="2074" value="while (nextEffect !== null )" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7522.12" y="-20586" width="148" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2075" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2076" target="2078" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2076" value="&lt;div style=&quot;color: rgb(171 , 178 , 191) ; background-color: rgb(22 , 27 , 34) ; font-family: &amp;#34;fira code light&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 156%&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;if&lt;/span&gt;&amp;nbsp;(deletions&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;for&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #c678dd&quot;&gt;let&lt;/span&gt;&amp;nbsp;i&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;0&lt;/span&gt;;&amp;nbsp;i&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;&amp;lt;&lt;/span&gt;&amp;nbsp;deletions&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;length&lt;/span&gt;;&amp;nbsp;i&lt;span style=&quot;color: #56b6c2&quot;&gt;++&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;const&lt;/span&gt;&amp;nbsp;deletion&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;deletions[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #61afef&quot;&gt;commitBeforeMutationEffectsDeletion&lt;/span&gt;(deletion);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7367.62" y="-20449" width="471" height="142" as="geometry"/>
                </mxCell>
                <mxCell id="2077" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2078" target="2081" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2078" value="&amp;nbsp; &amp;nbsp; const child = fiber.child;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7528.62" y="-20285" width="149" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="2079" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2081" target="2082" edge="1">
                    <mxGeometry x="-0.2986" relative="1" as="geometry">
                        <mxPoint y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2080" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2081" target="2085" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2081" value="&lt;div&gt;&amp;nbsp;if (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; (fiber.subtreeFlags &amp;amp; BeforeMutationMask) !== NoFlags &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; child !== null&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; )&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7398.12" y="-20228" width="410" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="2082" value="&lt;div&gt;&amp;nbsp; ensureCorrectReturnPointer(child, fiber);&lt;/div&gt;&lt;div&gt;&amp;nbsp; nextEffect = child;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7484.87" y="-20115" width="236.5" height="41" as="geometry"/>
                </mxCell>
                <mxCell id="2083" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2085" target="2087" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2084" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2085" target="2070" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7856.12" y="-20051"/>
                            <mxPoint x="7348.12" y="-20051"/>
                            <mxPoint x="7348.12" y="-20537"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2085" value="&amp;nbsp;commitBeforeMutationEffects_complete();" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7734.12" y="-20115" width="243.31" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2086" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2087" target="2092" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2087" value="&amp;nbsp;const fiber = nextEffect;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8143.92" y="-20112.5" width="150.82" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="2088" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.638;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2089" target="2085" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2089" value="while (nextEffect !== null)" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="8042.11703125" y="-20141.9998046875" width="154" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2090" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2092" target="2095" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2091" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2092" target="2109" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2092" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;commitBeforeMutationEffectsOnFiber(fiber);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;} catch (error) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;captureCommitPhaseError(fiber, fiber.return, error);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8064.53" y="-20019" width="309.59" height="86" as="geometry"/>
                </mxCell>
                <mxCell id="2093" value="判断&amp;nbsp;元素是否在&amp;nbsp;Suspense&amp;nbsp;中" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2095" target="2096" edge="1">
                    <mxGeometry x="0.813" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2094" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2095" target="2098" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="8538.119999999999" y="-19801"/>
                            <mxPoint x="8744.119999999999" y="-19801"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2095" value="&lt;div&gt;&amp;nbsp; const current = finishedWork.alternate;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const flags = finishedWork.flags;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8417.81" y="-19999" width="241.3" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="2096" value="if (!shouldFireAfterActiveInstanceBlur &amp;amp;&amp;amp; focusedInstanceHandle !== null)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8645.77" y="-19883" width="201.66" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="2097" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2098" target="2100" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2098" value="if ((flags &amp;amp; Snapshot) !== NoFlags)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="8637.119999999999" y="-19771" width="214" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2099" value="case HostRoot:" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2100" target="2103" edge="1">
                    <mxGeometry x="0.5308" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="8744.119999999999" y="-19629"/>
                            <mxPoint x="8635.119999999999" y="-19629"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2100" value="switch (finishedWork.tag)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="8658.619999999999" y="-19685" width="171" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2101" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2103" target="2105" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2103" target="2107" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2103" value="&lt;div&gt;&amp;nbsp;const root = finishedWork.stateNode;&lt;/div&gt;&lt;div&gt;&amp;nbsp;clearContainer(root.containerInfo);&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="8534.119999999999" y="-19570" width="207" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="2104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2105" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="8741.119999999999" y="-19536.999999999993" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2105" value="&lt;div&gt;if (container.nodeType === ELEMENT_NODE) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 先将元素清空&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ((container: any): Element).textContent = '';&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8799.67" y="-19584" width="269" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="2106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2107" target="2092" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="8403.119999999999" y="-19480"/>
                            <mxPoint x="8403.119999999999" y="-19954"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2107" value="break" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8614.869999999999" y="-19490" width="45.5" height="19" as="geometry"/>
                </mxCell>
                <mxCell id="2108" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2109" target="2113" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2109" value="const sibling = fiber.sibling;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8141.42" y="-19894" width="155.8" height="28" as="geometry"/>
                </mxCell>
                <mxCell id="2110" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2113" target="2115" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2113" target="2118" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="8070.12" y="-19817"/>
                            <mxPoint x="8070.12" y="-19635"/>
                            <mxPoint x="8219.119999999999" y="-19635"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2112" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2111" vertex="1" connectable="0">
                    <mxGeometry x="-0.7381" y="-1" relative="1" as="geometry">
                        <mxPoint x="23" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2113" value="if (sibling !== null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8162.419999999999" y="-19831" width="113.8" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2115" target="2116" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2115" value="&lt;div&gt;&amp;nbsp; ensureCorrectReturnPointer(sibling, fiber.return);&lt;/div&gt;&lt;div&gt;&amp;nbsp; nextEffect = sibling;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8080.62" y="-19775.5" width="278.8" height="46.5" as="geometry"/>
                </mxCell>
                <mxCell id="2116" value="return" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8196.119999999999" y="-19685" width="47.79" height="24.25" as="geometry"/>
                </mxCell>
                <mxCell id="2117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2118" target="2089" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="8022.12" y="-19581"/>
                            <mxPoint x="8022.12" y="-20128"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2118" value="nextEffect = fiber.return;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="8148.82" y="-19601" width="141" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="2119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2359" target="2061" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7018" y="-20380"/>
                            <mxPoint x="7018" y="-20609"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2122" target="2124" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="9320.133305664061" y="-20520.25" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2122" target="2157" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2122" value="&amp;nbsp; &amp;nbsp;//&amp;nbsp;第二步&lt;br&gt;&amp;nbsp; &amp;nbsp;commitMutationEffects(root, finishedWork, lanes);" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6636.38" y="-20542" width="290.49" height="43.5" as="geometry"/>
                </mxCell>
                <mxCell id="2123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2124" target="2127" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2124" value="&lt;div&gt;&amp;nbsp; inProgressLanes = committedLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; inProgressRoot = root;&lt;/div&gt;&lt;div&gt;&amp;nbsp; nextEffect = firstChild;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="9309.25" y="-20551.75" width="223" height="63" as="geometry"/>
                </mxCell>
                <mxCell id="2125" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2127" target="2129" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2127" target="2155" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2127" value="commitMutationEffects_begin(root);" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9318.07" y="-20444" width="205.37" height="45.25" as="geometry"/>
                </mxCell>
                <mxCell id="2128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2129" target="2132" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2129" value="&amp;nbsp;const fiber = nextEffect;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9624.119999999999" y="-20439.57" width="141.99" height="36.38" as="geometry"/>
                </mxCell>
                <mxCell id="2130" value="while (nextEffect !== null)" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="9609.116961206899" y="-20493.00269935345" width="154" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2131" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2132" target="2136" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2132" value="const deletions = fiber.deletions;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9606.11" y="-20358" width="178.01" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2133" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2136" target="2137" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2136" target="2139" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="9881.119999999999" y="-20189" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2135" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2134" vertex="1" connectable="0">
                    <mxGeometry x="-0.1279" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2136" value="if (deletions !== null)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9637.61" y="-20283" width="115.01" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="2137" value="&lt;div&gt;&amp;nbsp; try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;commitDeletion(root, childToDelete, fiber);&lt;/div&gt;&lt;div&gt;&amp;nbsp; } catch (error) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;captureCommitPhaseError(childToDelete, fiber, error);&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9537.619999999999" y="-20189" width="315" height="87.5" as="geometry"/>
                </mxCell>
                <mxCell id="2138" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2139" target="2142" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2139" value="&amp;nbsp;const child = fiber.child;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="9880.119999999999" y="-20189" width="161" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="2140" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2142" target="2145" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2142" target="2150" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="10396.291925862633" y="-20002.984202067055" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2142" value="if ((fiber.subtreeFlags &amp;amp; MutationMask) !== NoFlags &amp;amp;&amp;amp; child !== null)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9754.369999999999" y="-20091.5" width="412.5" height="61.5" as="geometry"/>
                </mxCell>
                <mxCell id="2143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2145" target="2146" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2145" target="2147" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2145" value="ensureCorrectReturnPointer(child, fiber);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9846.869999999999" y="-19993.62" width="227.5" height="35.25" as="geometry"/>
                </mxCell>
                <mxCell id="2146" value="&amp;nbsp; nextEffect = child;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9902.869999999999" y="-19920.74" width="115.5" height="26.74" as="geometry"/>
                </mxCell>
                <mxCell id="2147" value="&amp;nbsp; &amp;nbsp;//&amp;nbsp;给子 fiber&amp;nbsp;设置&amp;nbsp;父&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp;fiber.return = expectedReturnFiber;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="10038.119999999999" y="-19929.87" width="216" height="44.99" as="geometry"/>
                </mxCell>
                <mxCell id="2148" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2150" target="2152" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2150" target="2127" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="10366.12" y="-19851"/>
                            <mxPoint x="9523.119999999999" y="-19851"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2150" value="&amp;nbsp;commitMutationEffects_complete(root);" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="10252.119999999999" y="-20005" width="228" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2151" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2152" target="2182" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2152" value="const fiber = nextEffect;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10582.12" y="-20004.19" width="146" height="33.37" as="geometry"/>
                </mxCell>
                <mxCell id="2153" value="while (nextEffect !== null)" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="10555.123965517245" y="-20039.995592672414" width="154" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2155" target="2122" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6927.12" y="-20504" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="9235.119999999999" y="-20325"/>
                            <mxPoint x="9235.119999999999" y="-20509"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2155" value="&amp;nbsp; inProgressLanes = null;&lt;br&gt;&amp;nbsp; inProgressRoot = null;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9341.58" y="-20348" width="158.36" height="46.12" as="geometry"/>
                </mxCell>
                <mxCell id="2156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2157" target="2160" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2157" value="&amp;nbsp;root.current = finishedWork;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6697.38" y="-20463" width="168.49" height="25.75" as="geometry"/>
                </mxCell>
                <mxCell id="2158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2160" target="2162" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12006.81160970052" y="-20362.309999999998" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="9550" y="-20356"/>
                            <mxPoint x="9550" y="-20364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2159" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2160" target="2296" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2160" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // 第三步&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; commitLayoutEffects(finishedWork, root, lanes);&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6639.87" y="-20384" width="283.49" height="43.38" as="geometry"/>
                </mxCell>
                <mxCell id="2161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2162" target="2165" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2162" value="&lt;div&gt;&amp;nbsp; inProgressLanes = committedLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; inProgressRoot = root;&lt;/div&gt;&lt;div&gt;&amp;nbsp; nextEffect = finishedWork;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="12177.12" y="-20398.75" width="224" height="69.75" as="geometry"/>
                </mxCell>
                <mxCell id="2163" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2165" target="2168" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2164" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2165" target="2179" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2165" value="&amp;nbsp;commitLayoutEffects_begin(finishedWork, root, committedLanes);" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12103.12" y="-20285" width="372" height="39" as="geometry"/>
                </mxCell>
                <mxCell id="2166" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2168" target="2170" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2168" target="2165" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2168" value="&amp;nbsp;commitLayoutMountEffects_complete(subtreeRoot, root, committedLanes);" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12517.12" y="-20288.25" width="414" height="45.5" as="geometry"/>
                </mxCell>
                <mxCell id="2169" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2170" target="2173" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2170" value="&amp;nbsp; const fiber = nextEffect;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13033.12" y="-20285.5" width="145" height="39.5" as="geometry"/>
                </mxCell>
                <mxCell id="2171" value="while (nextEffect !== null)" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="13013.122498855591" y="-20323.9994140625" width="154" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2172" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2173" target="2175" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2173" value="&amp;nbsp;if (fiber === subtreeRoot)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13028.37" y="-20208" width="154.5" height="49.25" as="geometry"/>
                </mxCell>
                <mxCell id="2174" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2175" target="2177" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2175" value="&amp;nbsp;nextEffect = null;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13050.37" y="-20109.57" width="110.5" height="30.13" as="geometry"/>
                </mxCell>
                <mxCell id="2176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2177" target="2168" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2177" value="return" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13080.87" y="-20033.379999999997" width="49.5" height="28.38" as="geometry"/>
                </mxCell>
                <mxCell id="2178" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2179" target="2160" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2179" value="&lt;div&gt;&amp;nbsp; inProgressLanes = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; inProgressRoot = null;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12208.12" y="-20192.75" width="162" height="50.5" as="geometry"/>
                </mxCell>
                <mxCell id="2180" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2182" target="2184" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="11098.62" y="-19889.8" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2181" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2182" target="2282" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2182" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commitMutationEffectsOnFiber(fiber, root);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; } catch (error) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; captureCommitPhaseError(fiber, fiber.return, error);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10499.62" y="-19929.870000000003" width="311" height="80.13" as="geometry"/>
                </mxCell>
                <mxCell id="2183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2184" target="2186" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2184" value="const primaryFlags = flags &amp;amp; (Placement | Update | Hydrating);" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11184.12" y="-19911.210000000003" width="345" height="42.81" as="geometry"/>
                </mxCell>
                <mxCell id="2185" value="case Placement:" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2186" target="2189" edge="1">
                    <mxGeometry x="0.2322" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2186" value="switch (primaryFlags)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11288.87" y="-19827" width="135.5" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="2187" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2189" target="2192" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="11584.120000000004" y="-19683" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2188" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2189" target="2278" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2189" value="&amp;nbsp;commitPlacement(finishedWork);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11049.12" y="-19713.5" width="196" height="62.5" as="geometry"/>
                </mxCell>
                <mxCell id="2190" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2192" target="2194" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2191" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2192" target="2200" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2192" value="//&amp;nbsp;递归向上找到父级的&amp;nbsp;元素，因为父级不一定对应真实dom&lt;br&gt;&amp;nbsp;const parentFiber = getHostParentFiber(finishedWork);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11856.12" y="-19709" width="324" height="52" as="geometry"/>
                </mxCell>
                <mxCell id="2193" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2194" target="2197" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2194" value="&amp;nbsp; let parent = fiber.return;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12228.37" y="-19704" width="143" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2195" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2197" target="2198" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2197" target="2192" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2197" value="&lt;div&gt;&amp;nbsp; while (parent !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (isHostParent(parent)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return parent;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parent = parent.return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="12219.12" y="-19629.75" width="161.5" height="96.5" as="geometry"/>
                </mxCell>
                <mxCell id="2198" value="&lt;div&gt;function isHostParent(fiber: Fiber): boolean {&lt;/div&gt;&lt;div&gt;&amp;nbsp; return (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fiber.tag === HostComponent ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fiber.tag === HostRoot ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fiber.tag === HostPortal&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12439.12" y="-19635.25" width="252" height="107.5" as="geometry"/>
                </mxCell>
                <mxCell id="2199" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2200" target="2205" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2200" value="&amp;nbsp; let parent;&lt;br&gt;&amp;nbsp; let isContainer;&lt;br&gt;&amp;nbsp; const parentStateNode = parentFiber.stateNode;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="11882.62" y="-19629.75" width="271" height="54.25" as="geometry"/>
                </mxCell>
                <mxCell id="2201" value="case HostComponent:" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2205" target="2207" edge="1">
                    <mxGeometry x="0.4397" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2202" value="case HostRoot:" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="2205" target="2209" edge="1">
                    <mxGeometry x="-0.7299" relative="1" as="geometry">
                        <mxPoint x="12018.12" y="-19485" as="sourcePoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2205" target="2212" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2204" value="&amp;nbsp; &amp;nbsp; case HostPortal:" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2203" vertex="1" connectable="0">
                    <mxGeometry x="0.5509" relative="1" as="geometry">
                        <mxPoint y="-10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2205" value="&amp;nbsp;switch (parentFiber.tag)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11941.62" y="-19552" width="153" height="57.88" as="geometry"/>
                </mxCell>
                <mxCell id="2206" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2207" target="2217" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="11792.12" y="-19341"/>
                            <mxPoint x="12018.12" y="-19341"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2207" value="&lt;div&gt;parent = parentStateNode&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;isContainer = false;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;break;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11713.12" y="-19434" width="157" height="54.18" as="geometry"/>
                </mxCell>
                <mxCell id="2208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2209" target="2217" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2209" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;parent = parentStateNode.containerInfo;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;isContainer = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;break;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="11903.62" y="-19434" width="229" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="2210" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2212" target="2217" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12276.12" y="-19342"/>
                            <mxPoint x="12018.12" y="-19342"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2211" value="判断是否插入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2210" vertex="1" connectable="0">
                    <mxGeometry x="0.8041" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2212" value="&amp;nbsp; &amp;nbsp;parent = parentStateNode.containerInfo;&lt;br&gt;&amp;nbsp; &amp;nbsp;isContainer = true;&lt;br&gt;&amp;nbsp; &amp;nbsp;break;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="12161.12" y="-19434" width="229" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="2213" value="先清空父元素" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2217" target="2218" edge="1">
                    <mxGeometry x="0.0741" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2214" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2213" vertex="1" connectable="0">
                    <mxGeometry x="-0.6482" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2217" target="2220" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="11864.12" y="-19261"/>
                            <mxPoint x="11864.12" y="-19108"/>
                            <mxPoint x="12018.12" y="-19108"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2216" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2215" vertex="1" connectable="0">
                    <mxGeometry x="-0.6655" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2217" value="if (parentFiber.flags &amp;amp; ContentReset)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="11909.12" y="-19284" width="218" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="2218" value="&amp;nbsp; &amp;nbsp;resetTextContent(parent);&lt;br&gt;&amp;nbsp; &amp;nbsp;parentFiber.flags &amp;amp;= ~ContentReset;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="11910.62" y="-19184" width="215" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="2219" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2220" target="2226" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2220" value="&amp;nbsp; const before = getHostSibling(finishedWork);&lt;br&gt;&amp;nbsp; //&amp;nbsp;获取兄弟节点" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="11894.62" y="-19062" width="259" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="2221" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2226" target="2227" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="11768.12" y="-18965"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2222" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2221" vertex="1" connectable="0">
                    <mxGeometry x="0.617" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2223" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2226" target="2230" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12229.12" y="-18965"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2224" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2223" vertex="1" connectable="0">
                    <mxGeometry x="0.6017" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2225" value="真正执行&amp;nbsp;插入&amp;nbsp;dom&amp;nbsp;元素" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2223" vertex="1" connectable="0">
                    <mxGeometry x="0.7564" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2226" value="if (isContainer)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11972.12" y="-18991" width="104" height="51.5" as="geometry"/>
                </mxCell>
                <mxCell id="2227" value="insertOrAppendPlacementNode(finishedWork, before, parent);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11602.12" y="-18897.5" width="346" height="36.25" as="geometry"/>
                </mxCell>
                <mxCell id="2228" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2230" target="2232" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12462.78" y="-18877.142857142855" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2229" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2230" target="2189" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12187.12" y="-18825"/>
                            <mxPoint x="11322.12" y="-18825"/>
                            <mxPoint x="11322.12" y="-19667"/>
                            <mxPoint x="11265.12" y="-19667"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2230" value="insertOrAppendPlacementNodeIntoContainer(finishedWork, before, parent);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11973.12" y="-18897.25" width="428" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="2231" value="校验是否&amp;nbsp;元素节点" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2232" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12870.309999999998" y="-18819" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2232" value="&amp;nbsp;const {tag} = node;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12802.12" y="-18897.5" width="128" height="36.25" as="geometry"/>
                </mxCell>
                <mxCell id="2233" value="function insertOrAppendPlacementNodeIntoContainer(&#10;  node: Fiber,&#10;  before: ?Instance,&#10;  parent: Container,&#10;): void" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="12580.777082379662" y="-18994.99650390625" width="310" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="2234" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" target="2240" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12870.309999999998" y="-18793.120000000003" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2235" value="&amp;nbsp; const isHost = tag === HostComponent || tag === HostText;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12696.81" y="-18816" width="347" height="25.88" as="geometry"/>
                </mxCell>
                <mxCell id="2236" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2240" target="2242" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="12802.12" y="-18752.68" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2237" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2236" vertex="1" connectable="0">
                    <mxGeometry x="0.5085" y="1" relative="1" as="geometry">
                        <mxPoint x="2" y="13" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2238" value="根节点会走这" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="2240" target="2254" edge="1">
                    <mxGeometry x="0.7004" relative="1" as="geometry">
                        <mxPoint x="12903.81" y="-18731.910000000003" as="sourcePoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2239" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2238" vertex="1" connectable="0">
                    <mxGeometry x="0.4948" y="-1" relative="1" as="geometry">
                        <mxPoint x="66" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2240" value="if (isHost)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12829.81" y="-18754" width="81" height="44.18" as="geometry"/>
                </mxCell>
                <mxCell id="2241" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2242" target="2246" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2242" value="&amp;nbsp; const stateNode = node.stateNode;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12924.86" y="-18681.760000000002" width="205.5" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2243" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2246" target="2247" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2244" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2246" target="2252" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="13186.12" y="-18585.68"/>
                            <mxPoint x="13186.12" y="-18454.68"/>
                            <mxPoint x="13028.12" y="-18454.68"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2245" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2244" vertex="1" connectable="0">
                    <mxGeometry x="-0.2913" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2246" value="&amp;nbsp;if (before)&lt;br&gt;是否有兄弟节点" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12980.740000000002" y="-18606.760000000002" width="93.75" height="42.5" as="geometry"/>
                </mxCell>
                <mxCell id="2247" value="insertInContainerBefore(parent, stateNode, before);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12883.920000000002" y="-18511.760000000002" width="287.38" height="39.25" as="geometry"/>
                </mxCell>
                <mxCell id="2248" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2252" target="2271" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2249" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2252" target="2230" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="13028.12" y="-18137"/>
                            <mxPoint x="12413.12" y="-18137"/>
                            <mxPoint x="12413.12" y="-18870"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2250" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2252" target="2263" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2251" value="递归调用自己时会到这里" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2250" vertex="1" connectable="0">
                    <mxGeometry x="0.362" y="-1" relative="1" as="geometry">
                        <mxPoint x="31" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2252" value="&amp;nbsp;appendChildToContainer(parent, stateNode);" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="12897.12" y="-18435.760000000002" width="261" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2253" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2254" target="2257" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2254" value="const child = node.child;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12579.880000000001" y="-18687.010000000002" width="162.31" height="34.91" as="geometry"/>
                </mxCell>
                <mxCell id="2255" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2257" target="2260" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2256" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2257" target="2260" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2257" value="if (child !== null)&lt;br&gt;是否有子节点" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12612.450000000003" y="-18599.22" width="97.16" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="2258" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2260" target="2263" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2259" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="2260" target="2233" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="13082.12376939138" y="-18472.25" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="12444.12" y="-18472"/>
                            <mxPoint x="12444.12" y="-18975"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2260" value="&amp;nbsp;insertOrAppendPlacementNodeIntoContainer(child, before, parent);" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12476.950000000003" y="-18510.97" width="368.16" height="41" as="geometry"/>
                </mxCell>
                <mxCell id="2261" value="while (sibling !== null)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.472;entryY=-0.019;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2263" target="2276" edge="1">
                    <mxGeometry x="0.5789" relative="1" as="geometry">
                        <mxPoint y="-1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2262" value="是否有兄弟节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2261" vertex="1" connectable="0">
                    <mxGeometry x="-0.6493" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2263" value="&amp;nbsp; let sibling = child.sibling;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="12581.800000000001" y="-18436.39" width="160.39" height="36.25" as="geometry"/>
                </mxCell>
                <mxCell id="2264" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2267" target="2269" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2265" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="2276" target="2233" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12443.12" y="-18284"/>
                            <mxPoint x="12443.12" y="-18975"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2266" value="递归调用自己" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2265" vertex="1" connectable="0">
                    <mxGeometry x="-0.8023" y="-1" relative="1" as="geometry">
                        <mxPoint x="2" y="-143" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2267" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;insertOrAppendPlacementNodeIntoContainer(sibling, before, parent);&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=center;" parent="1" vertex="1">
                    <mxGeometry x="12465.78" y="-18301.22" width="392.43" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="2268" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2269" target="2230" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="12662.12" y="-18136"/>
                            <mxPoint x="12412.12" y="-18136"/>
                            <mxPoint x="12412.12" y="-18870"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2269" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;sibling = sibling.sibling;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="12589.17" y="-18228.22" width="145.64" height="33.38" as="geometry"/>
                </mxCell>
                <mxCell id="2270" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2271" target="2274" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2271" value="let parentNode;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13287.12" y="-18441.89" width="118.5" height="47.26" as="geometry"/>
                </mxCell>
                <mxCell id="2272" value="function appendChildToContainer(&#10;  container: Container,&#10;  child: Instance | TextInstance,&#10;): void" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="13287.123280105592" y="-18523.9694140625" width="201" height="67" as="geometry"/>
                </mxCell>
                <mxCell id="2273" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2274" target="2252" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="13164.438964727995" y="-18404.848708580277" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2274" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;parentNode = container;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;parentNode.appendChild(child);&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;labelBackgroundColor=none;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="13251.5" y="-18339" width="189.75" height="44.11" as="geometry"/>
                </mxCell>
                <mxCell id="2275" value="如果是注释节点则会取到父节点再&amp;nbsp;insetBefore&amp;nbsp;到注释节点的前面" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13397.12" y="-18366" width="353" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2276" value="" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;fillColor=#2a2a2a;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="12456.12" y="-18324" width="436" height="160" as="geometry">
                        <mxRectangle x="10368.12" y="-18660" width="50" height="44" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2277" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2278" target="2280" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2278" value="&amp;nbsp; // 清空掉 placement&lt;br&gt;&amp;nbsp; finishedWork.flags &amp;amp;= ~Placement;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="11038.12" y="-19612.81" width="218" height="43.75" as="geometry"/>
                </mxCell>
                <mxCell id="2279" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2280" target="2182" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2280" value="&amp;nbsp;break;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11123.87" y="-19538" width="46.5" height="23.13" as="geometry"/>
                </mxCell>
                <mxCell id="2281" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2282" target="2286" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2282" value="const sibling = fiber.sibling;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10577.62" y="-19784" width="155" height="41.68" as="geometry"/>
                </mxCell>
                <mxCell id="2283" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2286" target="2287" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2284" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2286" target="2294" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="10883.12" y="-19677"/>
                            <mxPoint x="10883.12" y="-19347"/>
                            <mxPoint x="10660.12" y="-19347"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2285" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2284" vertex="1" connectable="0">
                    <mxGeometry x="-0.8438" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2286" value="if (sibling !== null)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10601.12" y="-19702.48" width="108" height="51.48" as="geometry"/>
                </mxCell>
                <mxCell id="2287" value="" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;fillColor=#2a2a2a;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="10480.12" y="-19614" width="350" height="200" as="geometry">
                        <mxRectangle x="6412" y="-20383" width="50" height="44" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2288" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="2287" source="2289" target="2290" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2289" value="&amp;nbsp; nextEffect = sibling;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="2287" vertex="1">
                    <mxGeometry x="112" y="94" width="127" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2290" value="&amp;nbsp;return;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="2287" vertex="1">
                    <mxGeometry x="148.5" y="149" width="53" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="2291" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;ensureCorrectReturnPointer(sibling, fiber.return);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;nextEffect = sibling;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2287" vertex="1">
                    <mxGeometry x="34.5" y="14" width="281" height="42.26" as="geometry"/>
                </mxCell>
                <mxCell id="2292" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="2287" source="2291" target="2289" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2293" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2294" target="2150" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2294" value="&amp;nbsp; &amp;nbsp;nextEffect = fiber.return;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="10582.12" y="-19324" width="156" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="2295" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2296" target="2297" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2296" value="..." style="whiteSpace=wrap;html=1;shadow=0;align=center;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6751.87" y="-20295" width="59.51" height="33.93" as="geometry"/>
                </mxCell>
                <mxCell id="2297" value="return null" style="whiteSpace=wrap;html=1;shadow=0;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6735.97" y="-20205.55" width="92.49" height="31.1" as="geometry"/>
                </mxCell>
                <mxCell id="2298" value="function requestHostCallback(callback" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;fillColor=#2a2a2a;align=center;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="6158" y="-21694" width="11095" height="7720" as="geometry">
                        <mxRectangle x="4069" y="-21988.5" width="74" height="87.91" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2299" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.005;entryY=0.47;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;entryPerimeter=0;" parent="2298" source="2300" target="2301" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2300" value="&lt;div&gt;&amp;nbsp; try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 最主要调用了 commitRootImpl&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; setCurrentUpdatePriority(DiscreteEventPriority);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; commitRootImpl(root, previousUpdateLanePriority);&lt;/div&gt;&lt;div&gt;&amp;nbsp; } finally {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; setCurrentUpdatePriority(previousUpdateLanePriority);&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=left;verticalAlign=top;" parent="2298" vertex="1">
                    <mxGeometry x="56" y="127.0099999999984" width="322" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="2301" value="" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;fillColor=none;align=center;verticalAlign=top;" parent="2298" vertex="1">
                    <mxGeometry x="570" y="150" width="210" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="2302" value="&lt;div&gt;&amp;nbsp;if (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; (finishedWork.subtreeFlags &amp;amp; PassiveMask) !== NoFlags ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; (finishedWork.flags &amp;amp; PassiveMask) !== NoFlags&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; )&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;verticalAlign=top;fillColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="498" y="270" width="364" height="77.5" as="geometry"/>
                </mxCell>
                <mxCell id="2303" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2301" target="2302" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2304" value="if (!rootDoesHavePassiveEffects)&lt;br&gt;没有未完成的&amp;nbsp;effect了" style="rhombus;whiteSpace=wrap;html=1;shadow=0;verticalAlign=top;fillColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="575" y="392.5" width="210" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="2305" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2302" target="2304" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2306" value="&amp;nbsp; rootDoesHavePassiveEffects = true;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="575.75" y="461" width="209.25" height="30.5" as="geometry"/>
                </mxCell>
                <mxCell id="2307" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2304" target="2306" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2308" value="&lt;div&gt;scheduleCallback(NormalSchedulerPriority, () =&amp;gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; flushPassiveEffects();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; });&lt;/div&gt;&lt;div&gt;//&amp;nbsp;添加&amp;nbsp;effect&amp;nbsp;执行回调&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="536.69" y="534" width="286.62" height="78.25" as="geometry"/>
                </mxCell>
                <mxCell id="2309" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2306" target="2308" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2310" value="&lt;div&gt;&amp;nbsp; var newTask = {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; id: taskIdCounter++,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; callback,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; priorityLevel,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; startTime,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; expirationTime,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; sortIndex: -1,&lt;/div&gt;&lt;div&gt;&amp;nbsp; };&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1300" y="2892.49" width="167" height="131.51" as="geometry"/>
                </mxCell>
                <mxCell id="2311" value="会在挂载之后执行" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2308" target="2310" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2312" value="&lt;span style=&quot;font-size: 12px; text-align: left;&quot;&gt;scheduleCallback&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="2311" vertex="1" connectable="0">
                    <mxGeometry x="-0.9354" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2313" value="&amp;nbsp;if (startTime &amp;gt; currentTime)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=center;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1291.25" y="3087.5" width="184.5" height="31.74" as="geometry"/>
                </mxCell>
                <mxCell id="2314" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2310" target="2313" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2315" value="&amp;nbsp;newTask.sortIndex = expirationTime;&lt;br&gt;&amp;nbsp;push(taskQueue, newTask);" style="whiteSpace=wrap;html=1;shadow=0;verticalAlign=top;fillColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="1144" y="3169.5" width="217.5" height="42.89" as="geometry"/>
                </mxCell>
                <mxCell id="2316" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2313" target="2315" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1253" y="3103"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2317" value="if (enableProfiling)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1197.5" y="3254.89" width="110.5" height="27.05" as="geometry"/>
                </mxCell>
                <mxCell id="2318" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2315" target="2317" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2319" value="&lt;div&gt;&amp;nbsp; markTaskStart(newTask, currentTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; newTask.isQueued = true;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1143.1200000000001" y="3335" width="219.25" height="44.03" as="geometry"/>
                </mxCell>
                <mxCell id="2320" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2317" target="2319" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2321" value="&lt;div&gt;&amp;nbsp; isHostCallbackScheduled = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; requestHostCallback(flushWork);&lt;/div&gt;&lt;div&gt;&amp;nbsp; // flushWork&amp;nbsp;是另外一个函数&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="1157.79" y="3517" width="191.89" height="57" as="geometry"/>
                </mxCell>
                <mxCell id="2322" value="function requestHostCallback(callback)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1376" y="3506" width="218" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2323" value="&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; if (!isMessageLoopRunning)&amp;nbsp;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontColor=#ffffff;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1469.98" y="3600" width="177.68" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="2324" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; schedulePerformWorkUntilDeadline = () =&amp;gt; {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; port.postMessage(null);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; };&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fontColor=#ffffff;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1790" y="3653.1100000000006" width="254" height="56.59" as="geometry"/>
                </mxCell>
                <mxCell id="2325" value="&lt;div&gt;&amp;nbsp; const channel = new MessageChannel();&lt;/div&gt;&lt;div&gt;&amp;nbsp; const port = channel.port2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; channel.port1.onmessage = &lt;b&gt;performWorkUntilDeadline&lt;/b&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; schedulePerformWorkUntilDeadline = () =&amp;gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; port.postMessage(null);&lt;/div&gt;&lt;div&gt;&amp;nbsp; };&lt;/div&gt;&lt;div&gt;&amp;nbsp; //&amp;nbsp;port&amp;nbsp;相当于&amp;nbsp;port2 ，port2&amp;nbsp;发出的message&amp;nbsp;会被&amp;nbsp;port1&amp;nbsp;接收到&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#006EAF;fillColor=#1ba1e2;align=left;verticalAlign=middle;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="1809" y="3517" width="348" height="115" as="geometry"/>
                </mxCell>
                <mxCell id="2326" value="callback(didUserCallbackTimeout);" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1092.6099999999997" y="3446" width="322.26" height="30.96" as="geometry"/>
                </mxCell>
                <mxCell id="2327" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2319" target="2326" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2328" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2326" target="2321" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2329" value="&amp;nbsp; return newTask;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="1202.0999999999995" y="3625" width="103.27" height="27.66" as="geometry"/>
                </mxCell>
                <mxCell id="2330" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2321" target="2329" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2331" value="&amp;nbsp;if (scheduledHostCallback !== null)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2298" vertex="1">
                    <mxGeometry x="2256" y="3652.66" width="207" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="2332" value="&#10;&#10;&lt;b style=&quot;color: rgb(240, 240, 240); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(42, 42, 42);&quot;&gt;performWorkUntilDeadline&lt;/b&gt;&#10;&#10;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="2298" source="2324" target="2331" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2268" y="3681.404999999999" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2333" value="&amp;nbsp;const currentTime = getCurrentTime();" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2251.75" y="3743" width="215.5" height="38.84" as="geometry"/>
                </mxCell>
                <mxCell id="2334" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2331" target="2333" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2335" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; hasMoreWork = &lt;b&gt;scheduledHostCallback&lt;/b&gt;(hasTimeRemaining, currentTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } finally {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (hasMoreWork) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // If there's more work, schedule the next message event at the end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // of the preceding one.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; schedulePerformWorkUntilDeadline();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; isMessageLoopRunning = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; scheduledHostCallback = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2138.25" y="4007" width="442.5" height="173.92" as="geometry"/>
                </mxCell>
                <mxCell id="2336" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; deadline = currentTime + yieldInterval;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const hasTimeRemaining = true;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2238.75" y="3830" width="241.5" height="45.74" as="geometry"/>
                </mxCell>
                <mxCell id="2337" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2333" target="2336" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2338" value="&amp;nbsp; &amp;nbsp; let hasMoreWork = true;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2279.25" y="3918" width="160.5" height="31.39" as="geometry"/>
                </mxCell>
                <mxCell id="2339" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2338" target="2335" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2340" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2336" target="2338" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2341" value="&amp;nbsp; isHostCallbackScheduled = false;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2699" y="4077.4399999999987" width="194" height="33.04" as="geometry"/>
                </mxCell>
                <mxCell id="2342" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2335" target="2341" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2343" value="&amp;nbsp; isPerformingWork = true;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="2718.5" y="4145" width="155" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="2344" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2341" target="2343" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2345" value="" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2298" vertex="1">
                    <mxGeometry x="2600.75" y="4247" width="390.5" height="663" as="geometry">
                        <mxRectangle x="2600.75" y="4247" width="50" height="44" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2346" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2345" source="2347" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="73.5" y="108" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2347" value="if (enableProfiling)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=center;verticalAlign=middle;" parent="2345" vertex="1">
                    <mxGeometry x="16" y="27" width="115" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2348" value="try {&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2345" vertex="1">
                    <mxGeometry x="21.25" y="8" width="34" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2349" value="" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=center;verticalAlign=middle;" parent="2345" vertex="1">
                    <mxGeometry x="24.5" y="108" width="318.5" height="502" as="geometry">
                        <mxRectangle x="24.5" y="108" width="50" height="44" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2350" value="catch (error)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2349" vertex="1">
                    <mxGeometry x="7.6899999999996" y="87" width="75" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2351" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (currentTask !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; const currentTime = getCurrentTime();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; markTaskErrored(currentTask, currentTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; currentTask.isQueued = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; throw error;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2349" vertex="1">
                    <mxGeometry x="12.749999999999599" y="110" width="288" height="118" as="geometry"/>
                </mxCell>
                <mxCell id="2352" value="&amp;nbsp; return workLoop(hasTimeRemaining, initialTime);" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#006EAF;fillColor=#1ba1e2;align=center;verticalAlign=middle;fontColor=#ffffff;" parent="2349" vertex="1">
                    <mxGeometry x="12.75" y="45" width="276" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="2353" value="try {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2349" vertex="1">
                    <mxGeometry x="7.69" y="18" width="30" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2354" value="finally&amp;nbsp; {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2349" vertex="1">
                    <mxGeometry x="7.689999999999998" y="263" width="51" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2355" value="暂时看到这里，挂载已经结束" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2349" vertex="1">
                    <mxGeometry x="65.75" y="263" width="170" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2356" value="&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentTask = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentPriorityLevel = previousPriorityLevel;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; isPerformingWork = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (enableProfiling) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const currentTime = getCurrentTime();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; markSchedulerSuspended(currentTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2345" vertex="1">
                    <mxGeometry x="39.25" y="401" width="257" height="152" as="geometry"/>
                </mxCell>
                <mxCell id="2357" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2343" target="2345" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2796.000000000001" y="4244.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2358" value="&lt;div&gt;&amp;nbsp; const shouldFire = shouldFireAfterActiveInstanceBlur;&amp;nbsp; &amp;nbsp;//&amp;nbsp;false&lt;/div&gt;&lt;div&gt;&amp;nbsp; shouldFireAfterActiveInstanceBlur = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; focusedInstanceHandle = null;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="831" y="1209" width="345.49" height="54" as="geometry"/>
                </mxCell>
                <mxCell id="2359" value="&amp;nbsp; return shouldFire;" style="whiteSpace=wrap;html=1;shadow=0;align=left;verticalAlign=top;fillColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="949.6199999999999" y="1288" width="108.26" height="27" as="geometry"/>
                </mxCell>
                <mxCell id="2360" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2298" source="2358" target="2359" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2361" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2363" target="2369" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2362" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2361" vertex="1" connectable="0">
                    <mxGeometry x="-0.5866" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2363" value="if (rootWithPendingPassiveEffects !== null)" style="rhombus;whiteSpace=wrap;html=1;" parent="2298" vertex="1">
                    <mxGeometry x="4685" y="3212.39" width="250" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2364" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2308" target="2363" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="4813" y="3168" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="4813" y="548"/>
                            <mxPoint x="4813" y="3178"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2365" value="&lt;span style=&quot;font-size: 12px; text-align: left;&quot;&gt;flushPassiveEffects();&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="2364" vertex="1" connectable="0">
                    <mxGeometry x="-0.9816" y="2" relative="1" as="geometry">
                        <mxPoint x="39" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2366" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2367" target="2370" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2367" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const priority = lowerEventPriority(DefaultEventPriority, renderPriority);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const previousPriority = getCurrentUpdatePriority();&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="4602.5" y="3319.029999999999" width="415" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2368" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2363" target="2367" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2369" value="&amp;nbsp; return false;" style="whiteSpace=wrap;html=1;" parent="2298" vertex="1">
                    <mxGeometry x="5050" y="3345.03" width="100" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2370" value="" style="swimlane;startSize=0;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="4640" y="3423" width="340" height="245" as="geometry"/>
                </mxCell>
                <mxCell id="2371" value="setCurrentUpdatePriority(priority);" style="whiteSpace=wrap;html=1;align=left;" parent="2370" vertex="1">
                    <mxGeometry x="50" y="51.96" width="200" height="38.04" as="geometry"/>
                </mxCell>
                <mxCell id="2372" value="return flushPassiveEffectsImpl();" style="whiteSpace=wrap;html=1;align=left;" parent="2370" vertex="1">
                    <mxGeometry x="55" y="119.5" width="190" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2373" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2370" source="2371" target="2372" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2374" value="finally" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2370" vertex="1">
                    <mxGeometry x="30" y="155" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2375" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="2298" source="2372" target="2376" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5080" y="3557.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2376" value="&amp;nbsp;if (rootWithPendingPassiveEffects === null)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5100" y="3522.5" width="260" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2377" value="&amp;nbsp;return false;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5190" y="3652.66" width="80" height="32" as="geometry"/>
                </mxCell>
                <mxCell id="2378" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2376" target="2377" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2379" value="&lt;div&gt;&amp;nbsp; const root = rootWithPendingPassiveEffects;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const lanes = pendingPassiveEffectsLanes;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rootWithPendingPassiveEffects = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; pendingPassiveEffectsLanes = NoLanes;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5105" y="3781.84" width="250" height="68.16" as="geometry"/>
                </mxCell>
                <mxCell id="2380" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="2298" source="2376" target="2379" edge="1">
                    <mxGeometry x="-0.5807" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5390" y="3557"/>
                            <mxPoint x="5390" y="3740"/>
                            <mxPoint x="5230" y="3740"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2381" value="&lt;div&gt;&amp;nbsp; const prevExecutionContext = executionContext;&lt;/div&gt;&lt;div&gt;&amp;nbsp; executionContext |= CommitContext;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5095" y="3890" width="270" height="45.92" as="geometry"/>
                </mxCell>
                <mxCell id="2382" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2379" target="2381" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2383" value="&lt;div&gt;&amp;nbsp; // 执行 卸载函数&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; commitPassiveUnmountEffects(root.current);&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="5085" y="4000" width="290" height="51.12" as="geometry"/>
                </mxCell>
                <mxCell id="2384" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2381" target="2383" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2385" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="2298" source="2387" target="2472" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2386" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2387" target="2555" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2387" value="&lt;div&gt;&amp;nbsp; // 执行 挂载函数&lt;/div&gt;&lt;div&gt;&amp;nbsp; commitPassiveMountEffects(root, root.current);&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="5085" y="5399.999999999999" width="290" height="51.12" as="geometry"/>
                </mxCell>
                <mxCell id="2388" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2383" target="2387" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2389" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2390" target="2383" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5450" y="4096"/>
                            <mxPoint x="5450" y="4038"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2390" value="commitPassiveUnmountEffects_begin();" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5492.5" y="4077.4400000000023" width="225" height="37.78" as="geometry"/>
                </mxCell>
                <mxCell id="2391" value="&amp;nbsp; nextEffect = firstChild;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5540" y="4003.34" width="130" height="44.44" as="geometry"/>
                </mxCell>
                <mxCell id="2392" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2383" target="2391" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2393" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2391" target="2390" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2394" value="&amp;nbsp;function commitPassiveUnmountEffects(firstChild: Fiber): void&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="5440" y="3980" width="350" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2395" value="" style="swimlane;startSize=0;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5796" y="4074" width="714" height="1336" as="geometry">
                        <mxRectangle x="5796" y="4074" width="50" height="40" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2396" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2398" target="2399" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2397" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2398" target="2413" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="624" y="41"/>
                            <mxPoint x="624" y="1046"/>
                            <mxPoint x="244" y="1046"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2398" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const fiber = nextEffect;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const child = fiber.child;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="105.1200000000008" y="16" width="160" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2399" value="&amp;nbsp;if ((nextEffect.flags &amp;amp; ChildDeletion) !== NoFlags)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="40.12" y="105.99999999999855" width="290" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2400" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2401" target="2403" edge="1">
                    <mxGeometry x="-0.4423" y="-2" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="185" y="336"/>
                            <mxPoint x="183" y="336"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2401" value="if (deletions !== null)" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="2395" vertex="1">
                    <mxGeometry x="110.1200000000008" y="266" width="150" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2402" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2403" target="2408" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2403" value="" style="swimlane;startSize=0;align=center;" parent="2395" vertex="1">
                    <mxGeometry x="91" y="376" width="369" height="174" as="geometry"/>
                </mxCell>
                <mxCell id="2404" value="&lt;div&gt;&amp;nbsp; const fiberToDelete = deletions[i];&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; nextEffect = fiberToDelete;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2403" vertex="1">
                    <mxGeometry x="14.1200000000008" y="22" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2405" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;commitPassiveUnmountEffectsInsideOfDeletedTree_begin(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; fiberToDelete,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; fiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;);&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2403" vertex="1">
                    <mxGeometry x="14.1200000000008" y="78.88000000000102" width="340" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2406" value="for (let i = 0; i &amp;lt; deletions.length; i++)&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2395" vertex="1">
                    <mxGeometry x="91" y="346" width="210" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2407" value="断开&amp;nbsp;child&amp;nbsp;和&amp;nbsp;sibling&amp;nbsp;的 fiber&amp;nbsp;指针" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2408" target="2409" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2408" value="&amp;nbsp;if (deletedTreeCleanUpLevel &amp;gt;= 1)" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="2395" vertex="1">
                    <mxGeometry x="74" y="586" width="220" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2409" value="&lt;div style=&quot;color: rgb(171 , 178 , 191) ; background-color: rgb(22 , 27 , 34) ; font-family: &amp;#34;fira code light&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 136%&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;const&lt;/span&gt;&amp;nbsp;previousFiber&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;fiber&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;alternate&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #c678dd&quot;&gt;if&lt;/span&gt;&amp;nbsp;(previousFiber&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;let&lt;/span&gt;&amp;nbsp;detachedChild&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;previousFiber&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;child&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #c678dd&quot;&gt;if&lt;/span&gt;&amp;nbsp;(detachedChild&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;previousFiber&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;child&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;do&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;const&lt;/span&gt;&amp;nbsp;detachedSibling&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;detachedChild&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;sibling&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;detachedChild&lt;span style=&quot;color: #56b6c2&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #e06c75&quot;&gt;sibling&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;detachedChild&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;=&lt;/span&gt;&amp;nbsp;detachedSibling;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;while&lt;/span&gt;&amp;nbsp;(detachedChild&amp;nbsp;&lt;span style=&quot;color: #56b6c2&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="64" y="686" width="476" height="224" as="geometry"/>
                </mxCell>
                <mxCell id="2410" value="&amp;nbsp;nextEffect = fiber;" style="whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="251" y="976" width="102" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2411" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2395" source="2409" target="2410" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2412" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2395" source="2413" target="2416" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="537" y="1086"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2413" value="&amp;nbsp;if ((fiber.subtreeFlags &amp;amp; PassiveMask) !== NoFlags &amp;amp;&amp;amp; child !== null)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="54" y="1066" width="380" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2414" value="ensureCorrectReturnPointer(child, fiber);" style="whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="129" y="1166" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2415" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2395" source="2413" target="2414" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2416" value="&amp;nbsp; commitPassiveUnmountEffects_complete();" style="whiteSpace=wrap;html=1;align=left;" parent="2395" vertex="1">
                    <mxGeometry x="414" y="1164" width="246" height="34" as="geometry"/>
                </mxCell>
                <mxCell id="2417" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2418" target="2416" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6570" y="5780"/>
                            <mxPoint x="6570" y="5264"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2418" value="" style="swimlane;startSize=0;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="6620" y="5210" width="350" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="2419" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2418" source="2420" target="2422" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2420" value="&amp;nbsp; const fiber = nextEffect;" style="whiteSpace=wrap;html=1;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="85" y="20" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2421" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2418" source="2422" target="2424" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2422" value="if ((fiber.flags &amp;amp; Passive) !== NoFlags)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="45" y="80" width="220" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2423" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2418" source="2424" target="2426" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2424" value="&amp;nbsp;commitPassiveUnmountOnFiber(fiber);" style="whiteSpace=wrap;html=1;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="40" y="150" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2425" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2418" source="2426" target="2430" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2426" value="&amp;nbsp; const sibling = fiber.sibling;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="65" y="210" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2427" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2418" source="2430" target="2431" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2428" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="2418" source="2430" target="2434" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="310" y="295"/>
                            <mxPoint x="310" y="480"/>
                            <mxPoint x="155" y="480"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2429" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2428" vertex="1" connectable="0">
                    <mxGeometry x="-0.455" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2430" value="if (sibling !== null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="95" y="270" width="120" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2431" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;ensureCorrectReturnPointer(sibling, fiber.return);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;nextEffect = sibling;&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="10" y="360" width="290" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2432" value="&amp;nbsp;retutn" style="whiteSpace=wrap;html=1;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="132.5" y="430" width="45" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2433" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2418" source="2431" target="2432" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2434" value="&amp;nbsp;nextEffect = fiber.return;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2418" vertex="1">
                    <mxGeometry x="85" y="520" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2435" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.002;entryY=0.07;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2298" source="2416" target="2418" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6599" y="5255" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2436" value="&amp;nbsp;while (nextEffect !== null)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="6650" y="5180" width="150" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2437" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="2298" source="2424" target="2438" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="7040" y="5375" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2438" value="switch (finishedWork.tag)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" parent="2298" vertex="1">
                    <mxGeometry x="7060" y="5342.5" width="160" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="2439" value="function commitPassiveUnmountOnFiber(finishedWork: Fiber): void" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="6990" y="5310" width="370" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2440" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;commitHookEffectListUnmount(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; HookPassive | HookHasEffect,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; finishedWork,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; finishedWork.return,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7040" y="5510" width="200" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="2441" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2438" target="2440" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2442" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case FunctionComponent:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case ForwardRef:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case SimpleMemoComponent:&lt;/span&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=left;verticalAlign=middle;resizable=0;points=[];" parent="2441" vertex="1" connectable="0">
                    <mxGeometry x="-0.3253" y="2" relative="1" as="geometry">
                        <mxPoint x="-72" y="5" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2443" value="&lt;div&gt;function commitHookEffectListUnmount(&lt;/div&gt;&lt;div&gt;&amp;nbsp; flags: HookFlags,&lt;/div&gt;&lt;div&gt;&amp;nbsp; finishedWork: Fiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; nearestMountedAncestor: Fiber | null,&lt;/div&gt;&lt;div&gt;)&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7320" y="5450" width="230" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2444" value="&amp;nbsp; const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7320" y="5536.25" width="540" height="37.5" as="geometry"/>
                </mxCell>
                <mxCell id="2445" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2440" target="2444" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2446" value="&lt;ol class=&quot;children expanded&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; list-style-type: none ; padding-left: 12px ; color: rgb(213 , 213 , 213) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;lucida console&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; text-align: left&quot;&gt;lastEffect&lt;/span&gt;&lt;span style=&quot;color: rgb(213 , 213 , 213) ; text-align: left&quot;&gt;:&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;object-value-object value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(213 , 213 , 213) ; text-align: left&quot;&gt;&lt;span class=&quot;object-properties-preview&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&amp;nbsp; create&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-function value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;() =&amp;gt; {…}&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&amp;nbsp; deps&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-array value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;[]&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&amp;nbsp; destroy&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-undefined value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(161 , 161 , 161)&quot;&gt;undefined&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&amp;nbsp; next&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-object value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;{&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)&quot;&gt;tag&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-number&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)&quot;&gt;5&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)&quot;&gt;destroy&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-undefined&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(161 , 161 , 161)&quot;&gt;undefined&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)&quot;&gt;deps&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-array&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;Array(0)&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)&quot;&gt;next&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-object&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;{…}&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)&quot;&gt;create&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-function&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;ƒ&lt;/span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li tabindex=&quot;0&quot; class=&quot;selected&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; outline-width: 0px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)&quot;&gt;&amp;nbsp; tag&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-number value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li tabindex=&quot;0&quot; class=&quot;selected&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; outline-width: 0px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;span class=&quot;object-value-number value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)&quot;&gt;&lt;span style=&quot;color: rgb(213 , 213 , 213) ; text-align: left&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7850" y="5465" width="520" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="2447" value="const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;&lt;br&gt;//&amp;nbsp;取到&amp;nbsp;lastEffect" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7390" y="5645" width="400" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2448" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2444" target="2447" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2449" value="&amp;nbsp;if (lastEffect !== null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7525" y="5720" width="130" height="32.5" as="geometry"/>
                </mxCell>
                <mxCell id="2450" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2447" target="2449" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2451" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2452" target="2454" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2452" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const firstEffect = lastEffect.next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let effect = firstEffect;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7490" y="5790" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2453" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2449" target="2452" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2454" value="" style="swimlane;startSize=0;labelBackgroundColor=#8C8C8C;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7480" y="5910" width="440" height="440" as="geometry"/>
                </mxCell>
                <mxCell id="2455" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2454" source="2456" target="2458" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2456" value="if ((effect.tag &amp;amp; flags) === flags)" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2454" vertex="1">
                    <mxGeometry x="65" y="10" width="190" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2457" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2454" source="2458" target="2462" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2458" value="&amp;nbsp;const destroy = effect.destroy;&amp;nbsp; &amp;nbsp;//&amp;nbsp;取到销毁函数&lt;br&gt;&amp;nbsp;effect.destroy = undefined;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//&amp;nbsp;将销毁函数置空" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2454" vertex="1">
                    <mxGeometry x="20" y="100" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2459" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="2454" source="2462" target="2465" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="400" y="205"/>
                            <mxPoint x="400" y="350"/>
                            <mxPoint x="160" y="350"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2460" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2459" vertex="1" connectable="0">
                    <mxGeometry x="-0.3526" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2461" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.408;entryY=-0.025;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2454" source="2462" target="2464" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2462" value="&amp;nbsp;if (destroy !== undefined)" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2454" vertex="1">
                    <mxGeometry x="75" y="180" width="170" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2463" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.41;exitY=1.05;exitDx=0;exitDy=0;exitPerimeter=0;" parent="2454" source="2464" target="2465" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2464" value="&amp;nbsp;safelyCallDestroy(finishedWork, nearestMountedAncestor, destroy);&lt;br&gt;&amp;nbsp;//&amp;nbsp;调用销毁函数" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2454" vertex="1">
                    <mxGeometry x="10" y="280" width="370" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2465" value="&amp;nbsp;effect = effect.next;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2454" vertex="1">
                    <mxGeometry x="90" y="380" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2466" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2467" target="2440" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7310" y="6360"/>
                            <mxPoint x="7310" y="5578"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2467" value="&amp;nbsp;while (effect !== firstEffect);" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7510" y="6350" width="160" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2468" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2469" target="2424" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2469" value="&amp;nbsp;break;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7110" y="5670" width="60" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2470" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2440" target="2469" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2471" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2416" target="2390" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6333" y="5380"/>
                            <mxPoint x="5760" y="5380"/>
                            <mxPoint x="5760" y="4106"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2472" value="&amp;nbsp; nextEffect = firstChild;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5490" y="5403.339999999998" width="130" height="44.44" as="geometry"/>
                </mxCell>
                <mxCell id="2473" value="&lt;div&gt;&amp;nbsp;function commitPassiveMountEffects(&lt;/div&gt;&lt;div&gt;&amp;nbsp; root: FiberRoot,&lt;/div&gt;&lt;div&gt;&amp;nbsp; finishedWork: Fiber,&lt;/div&gt;&lt;div&gt;): void&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="5460" y="5310" width="220" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2474" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.098;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2298" source="2475" target="2477" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2475" value="&amp;nbsp; commitPassiveMountEffects_begin(finishedWork, root);" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5392.5" y="5520" width="325" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2476" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2472" target="2475" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2477" value="" style="swimlane;startSize=0;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5770" y="5510" width="714" height="310" as="geometry">
                        <mxRectangle x="5796" y="4074" width="50" height="40" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2478" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2477" source="2481" target="2483" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2479" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2477" source="2481" target="2487" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2480" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2479" vertex="1" connectable="0">
                    <mxGeometry x="0.6216" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2481" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const fiber = nextEffect;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const child = fiber.child;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2477" vertex="1">
                    <mxGeometry x="105.1200000000008" y="16" width="160" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2482" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2477" source="2483" target="2485" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="185.1200000000008" y="266" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2483" value="if ((fiber.subtreeFlags &amp;amp; PassiveMask) !== NoFlags &amp;amp;&amp;amp; firstChild !== null)" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="2477" vertex="1">
                    <mxGeometry x="40.12" y="106" width="290" height="54" as="geometry"/>
                </mxCell>
                <mxCell id="2484" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2477" source="2485" target="2486" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2485" value="&amp;nbsp;ensureCorrectReturnPointer(firstChild, fiber);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=center;" parent="2477" vertex="1">
                    <mxGeometry x="55.12" y="210" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2486" value="&amp;nbsp; nextEffect = firstChild;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=center;" parent="2477" vertex="1">
                    <mxGeometry x="105.12" y="260" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2487" value="&amp;nbsp; commitPassiveMountEffects_complete(subtreeRoot, root);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=center;" parent="2477" vertex="1">
                    <mxGeometry x="360.0000000000008" y="118" width="330" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2488" value="&amp;nbsp;while (nextEffect !== null)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="5796" y="4051.119999999999" width="150" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2489" value="while (nextEffect !== null)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="5770" y="5480" width="150" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2490" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2491" target="2487" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6510" y="5890"/>
                            <mxPoint x="6510" y="5651"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2491" value="&amp;nbsp; while (nextEffect !== null)&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="6645" y="5880" width="160" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2492" value="" style="swimlane;startSize=0;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="6600" y="5910" width="370" height="960" as="geometry"/>
                </mxCell>
                <mxCell id="2493" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2494" target="2496" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2494" value="&amp;nbsp; const fiber = nextEffect;" style="whiteSpace=wrap;html=1;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="105" y="20" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2495" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2496" target="2497" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2496" value="if ((fiber.flags &amp;amp; Passive) !== NoFlags)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="65" y="80" width="220" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2497" value="&amp;nbsp;commitPassiveUnmountOnFiber(fiber);" style="whiteSpace=wrap;html=1;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="60" y="150" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2498" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2499" target="2501" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2499" value="&amp;nbsp; const sibling = fiber.sibling;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="85" y="600" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2500" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2501" target="2502" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2501" value="if (sibling !== null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="115" y="660" width="120" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2502" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;ensureCorrectReturnPointer(sibling, fiber.return);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;nextEffect = sibling;&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="30" y="750" width="290" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2503" value="&amp;nbsp;retutn" style="whiteSpace=wrap;html=1;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="152.5" y="820" width="45" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2504" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2492" source="2502" target="2503" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2505" value="&amp;nbsp;nextEffect = fiber.return;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="105" y="890" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2506" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="2492" source="2507" target="2505" edge="1">
                    <mxGeometry x="-0.8977" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="330" y="405"/>
                            <mxPoint x="330" y="905"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2507" value="if (fiber === subtreeRoot)&lt;br&gt;是否到了&amp;nbsp;finishedWork" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="105" y="380" width="145" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2508" value="nextEffect = null;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="122.5" y="470" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2509" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2507" target="2508" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2510" value="&amp;nbsp;retutn" style="whiteSpace=wrap;html=1;align=left;" parent="2492" vertex="1">
                    <mxGeometry x="155" y="530" width="45" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2511" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2492" source="2508" target="2510" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2512" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2492" source="2514" target="2507" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2513" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2492" source="2514" target="2499" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="300" y="580"/>
                            <mxPoint x="175" y="580"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2514" value="" style="swimlane;startSize=0;labelBackgroundColor=none;align=center;" parent="2492" vertex="1">
                    <mxGeometry x="40" y="210" width="310" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="2515" value="&amp;nbsp;try {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2514" vertex="1">
                    <mxGeometry x="10" y="10" width="40" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2516" value="catch (error)&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2514" vertex="1">
                    <mxGeometry x="10" y="80" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2517" value="captureCommitPhaseError(fiber, fiber.return, error);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=center;" parent="2514" vertex="1">
                    <mxGeometry x="10" y="110" width="290" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2518" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="2492" source="2501" target="2505" edge="1">
                    <mxGeometry x="-0.825" relative="1" as="geometry">
                        <mxPoint x="250" y="910.0000000000018" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="330" y="685"/>
                            <mxPoint x="330" y="905"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2519" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.003;entryY=0.034;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2298" source="2487" target="2492" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6530" y="5643"/>
                            <mxPoint x="6530" y="5943"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2520" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.501;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2298" source="2434" target="2436" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6630" y="5745"/>
                            <mxPoint x="6630" y="5190"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2521" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.006;entryY=0.651;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="2298" source="2505" target="2491" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6700.209999999999" y="6815.000000000002" as="sourcePoint"/>
                        <mxPoint x="6645.209999999999" y="6260.020000000004" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="6620" y="6815"/>
                            <mxPoint x="6620" y="5893"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2522" value="switch (finishedWork.tag)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" parent="2298" vertex="1">
                    <mxGeometry x="7035" y="6452.5" width="160" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="2523" value="function commitPassiveUnmountOnFiber(finishedWork: Fiber): void" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="6980" y="6420" width="370" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2524" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2522" target="2529" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="7115" y="6600.000000000002" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2525" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case FunctionComponent:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case ForwardRef:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; case SimpleMemoComponent:&lt;/span&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=left;verticalAlign=middle;resizable=0;points=[];" parent="2524" vertex="1" connectable="0">
                    <mxGeometry x="-0.3253" y="2" relative="1" as="geometry">
                        <mxPoint x="-72" y="5" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2526" value="&amp;nbsp;break;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7085" y="6730" width="60" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2527" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" target="2526" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="7115" y="6680" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2528" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="2298" source="2529" target="2532" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2529" value="&amp;nbsp; commitHookEffectListMount(&lt;br&gt;&amp;nbsp; &amp;nbsp; HookPassive | HookHasEffect, &lt;br&gt;&amp;nbsp; &amp;nbsp; finishedWork&lt;br&gt;&amp;nbsp; );" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7020" y="6610" width="190" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2530" value="function commitHookEffectListMount(tag: number, finishedWork: Fiber)&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7290" y="6570" width="390" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2531" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2532" target="2533" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2532" value="&amp;nbsp; const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7310" y="6626.25" width="540" height="37.5" as="geometry"/>
                </mxCell>
                <mxCell id="2533" value="const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;&lt;br&gt;//&amp;nbsp;取到&amp;nbsp;lastEffect" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7380" y="6720" width="400" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2534" value="&amp;nbsp;if (lastEffect !== null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7515" y="6795" width="130" height="32.5" as="geometry"/>
                </mxCell>
                <mxCell id="2535" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2533" target="2534" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2536" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const firstEffect = lastEffect.next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let effect = firstEffect;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7480" y="6865" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2537" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2534" target="2536" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2538" value="" style="swimlane;startSize=0;labelBackgroundColor=#8C8C8C;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="7470" y="6985" width="220" height="295" as="geometry"/>
                </mxCell>
                <mxCell id="2539" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2538" source="2540" target="2542" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2540" value="if ((effect.tag &amp;amp; tag) === tag)" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2538" vertex="1">
                    <mxGeometry x="32.5" y="15" width="165" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2541" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2538" source="2542" target="2545" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2542" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;const create = effect.create;&lt;/div&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2538" vertex="1">
                    <mxGeometry x="30" y="105" width="170" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="2543" value="&amp;nbsp;effect = effect.next;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2538" vertex="1">
                    <mxGeometry x="45" y="235" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2544" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2538" source="2545" target="2543" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2545" value="&lt;span&gt;&amp;nbsp;&amp;nbsp;effect.destroy = create();&lt;br&gt;&amp;nbsp; //&amp;nbsp;执行&amp;nbsp;mount&amp;nbsp;回调&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2538" vertex="1">
                    <mxGeometry x="40" y="155" width="150" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2546" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2536" target="2538" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2547" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2548" target="2529" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7300" y="7300"/>
                            <mxPoint x="7300" y="6663"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2548" value="&amp;nbsp;while (effect !== firstEffect);" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7505" y="7290" width="160" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2549" value="do {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7480" y="6945" width="40" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2550" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2543" target="2548" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2551" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2510" target="2487" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6510" y="6455"/>
                            <mxPoint x="6510" y="5651"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2552" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2503" target="2487" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6510" y="6745"/>
                            <mxPoint x="6510" y="5651"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2553" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2487" target="2475" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6295" y="5860"/>
                            <mxPoint x="5740" y="5860"/>
                            <mxPoint x="5740" y="5550"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2554" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="2298" source="2555" target="2556" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2555" value="&amp;nbsp;flushSyncCallbacks();" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5165" y="5645" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2556" value="&amp;nbsp; return true;" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="5190" y="5770" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2557" value="currentTask = peek(taskQueue);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="3175.75" y="5403.34" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2558" value="&lt;div&gt;&amp;nbsp;while (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentTask !== null &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; !(enableSchedulerDebugging &amp;amp;&amp;amp; isSchedulerPaused)&lt;/div&gt;&lt;div&gt;&amp;nbsp; )&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="3134" y="4579" width="309" height="57" as="geometry"/>
                </mxCell>
                <mxCell id="2559" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.007;entryY=0.702;entryDx=0;entryDy=0;entryPerimeter=0;" parent="2298" source="2557" target="2558" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3114" y="5418"/>
                            <mxPoint x="3114" y="4619"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2560" value="&amp;nbsp; const continuationCallback = callback(didUserCallbackTimeout);&lt;br&gt;&amp;nbsp; //&amp;nbsp;开始执行&amp;nbsp;effect" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="2298" vertex="1">
                    <mxGeometry x="3214" y="5290" width="360.75" height="29.88" as="geometry"/>
                </mxCell>
                <mxCell id="2561" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2560" target="2308" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="3320.375" y="5235.059999999998" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="3050" y="5305"/>
                            <mxPoint x="3050" y="593"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2562" value="执行&amp;nbsp;flushPassiveEffects()&amp;nbsp;回调" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2561" vertex="1" connectable="0">
                    <mxGeometry x="-0.9817" y="-1" relative="1" as="geometry">
                        <mxPoint x="24" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2563" value="&amp;nbsp;if (currentTask !== null)" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="3190" y="5550" width="150" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2564" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2565" target="2352" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3020" y="5663"/>
                            <mxPoint x="3020" y="4425"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2565" value="return true;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="3227.5" y="5645" width="75" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2566" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2563" target="2565" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2567" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; const firstTimer = peek(timerQueue);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (firstTimer !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="3350" y="5615" width="415" height="65" as="geometry"/>
                </mxCell>
                <mxCell id="2568" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2563" target="2567" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2569" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="2298" source="2570" target="2352" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3020" y="5734"/>
                            <mxPoint x="3020" y="4425"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2570" value="&amp;nbsp; &amp;nbsp; return false;" style="whiteSpace=wrap;html=1;align=left;" parent="2298" vertex="1">
                    <mxGeometry x="3511.25" y="5715" width="92.5" height="37.5" as="geometry"/>
                </mxCell>
                <mxCell id="2571" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="2298" source="2567" target="2570" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2572" value="&lt;ol class=&quot;children expanded&quot; style=&quot;box-sizing: border-box ; padding-left: 12px ; min-width: 0px ; min-height: 0px ; color: rgb(213 , 213 , 213) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;lucida console&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7922" y="6815" width="30" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2573" value="&lt;div style=&quot;color: rgb(171 , 178 , 191) ; font-family: &amp;#34;fira code light&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 156% ; font-size: 11px&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(152 , 195 , 121)&quot;&gt;lastEffect&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194)&quot;&gt;:&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;()&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{…}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;deps&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;[]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;destroy&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;undefined&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{&lt;span style=&quot;color: #98c379&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;5&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;destroy&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;undefined&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;deps&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #e5c07b&quot;&gt;Array&lt;/span&gt;(&lt;span style=&quot;color: #d19a66&quot;&gt;0&lt;/span&gt;),&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{…},&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;ƒ}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;5&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="2298" vertex="1">
                    <mxGeometry x="7870" y="6570" width="524" height="122" as="geometry"/>
                </mxCell>
                <mxCell id="2574" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2575" target="2323" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2575" value="&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; scheduledHostCallback = callback;&lt;/font&gt;" style="whiteSpace=wrap;html=1;shadow=0;fontColor=#ffffff;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7618.13" y="-18164" width="199.37" height="28.5" as="geometry"/>
                </mxCell>
                <mxCell id="2576" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2577" target="2324" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2577" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; isMessageLoopRunning = true;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; schedulePerformWorkUntilDeadline();&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fontColor=#ffffff;align=left;verticalAlign=top;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="7597.98" y="-18033.84" width="235.68" height="41.5" as="geometry"/>
                </mxCell>
                <mxCell id="2578" value="&lt;b style=&quot;&quot;&gt;scheduledHostCallback&amp;nbsp;被赋值成&amp;nbsp;&lt;br&gt;&lt;/b&gt;function flushWork(hasTimeRemaining, initialTime)" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="8837" y="-17674" width="279" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2579" value="&lt;div&gt;&amp;nbsp; let currentTime = initialTime;&lt;/div&gt;&lt;div&gt;&amp;nbsp; advanceTimers(currentTime);&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="9238" y="-17290.5" width="195" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2580" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.134;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=none;" parent="1" source="2581" target="2586" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2581" value="currentTask = peek(taskQueue);" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9246.75" y="-17177" width="177.5" height="33.75" as="geometry"/>
                </mxCell>
                <mxCell id="2582" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2579" target="2581" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2583" value="&amp;nbsp;return heap.length === 0 ? null : heap[0];" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="9541" y="-17178.12" width="231" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="2584" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2581" target="2583" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5466" y="4857.875" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2585" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="2586" target="2563" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2586" value="" style="swimlane;startSize=0;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="9259" y="-17050" width="655" height="836" as="geometry"/>
                </mxCell>
                <mxCell id="2587" value="&lt;div&gt;&amp;nbsp; if (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; currentTask.expirationTime &amp;gt; currentTime &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; (!hasTimeRemaining || shouldYieldToHost())&lt;/div&gt;&lt;div&gt;&amp;nbsp; )&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2586" vertex="1">
                    <mxGeometry x="16.11999999999989" y="25" width="318" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="2588" value="const callback = currentTask.callback;&lt;br&gt;//&amp;nbsp;取到&amp;nbsp;callback" style="whiteSpace=wrap;html=1;shadow=0;labelBackgroundColor=none;strokeColor=#000000;fillColor=none;align=left;verticalAlign=middle;" parent="2586" vertex="1">
                    <mxGeometry x="58.25" y="287" width="233" height="51" as="geometry"/>
                </mxCell>
                <mxCell id="2589" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="2586" source="2587" target="2588" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="356" y="63"/>
                            <mxPoint x="356" y="258"/>
                            <mxPoint x="175" y="258"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2590" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2589" vertex="1" connectable="0">
                    <mxGeometry x="-0.6553" relative="1" as="geometry">
                        <mxPoint y="-1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2591" value="&amp;nbsp;if (typeof callback === 'function')" style="rhombus;whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2586" vertex="1">
                    <mxGeometry x="81" y="375" width="187.5" height="47.5" as="geometry"/>
                </mxCell>
                <mxCell id="2592" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="2586" source="2588" target="2591" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2593" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;currentTask.callback = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; currentPriorityLevel = currentTask.priorityLevel;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const didUserCallbackTimeout = currentTask.expirationTime &amp;lt;= currentTime;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="2586" vertex="1">
                    <mxGeometry x="63.25" y="498" width="442.5" height="70.75" as="geometry"/>
                </mxCell>
                <mxCell id="2594" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="2586" source="2591" target="2593" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2595" value="function peek(heap: Heap):&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9538" y="-17201" width="158" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2596" value="&amp;nbsp; &amp;nbsp;// This currentTask hasn't expired, and we've reached the deadline.&lt;br&gt;&amp;nbsp; break;" style="whiteSpace=wrap;html=1;shadow=0;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="9323.81" y="-16897" width="196.13" height="54" as="geometry"/>
                </mxCell>
                <mxCell id="2597" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2587" target="2596" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2598" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2321" target="2575" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2599" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;" parent="1" source="2323" target="2577" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2600" value="try {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="10828" y="-18244" width="40" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2601" value="&amp;nbsp;setCurrentUpdatePriority(previousPriority);" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="10858" y="-18084" width="250" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2602" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2390" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="11955.5" y="-17597.67" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2603" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2604" target="2401" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2604" value="const deletions = fiber.deletions;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="12044.68" y="-17414" width="188.88" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2605" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2399" target="2604" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2606" value="nextEffect = child;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="12148" y="-16384" width="100" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2607" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2414" target="2606" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2608" value="do {" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="13648" y="-15824" width="40" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2609" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2610" target="2522" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2610" value="commitPassiveMountOnFiber(root, fiber);" style="whiteSpace=wrap;html=1;labelBackgroundColor=none;align=center;" parent="1" vertex="1">
                    <mxGeometry x="12848" y="-15534" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2611" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2526" target="2610" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="13158" y="-14946"/>
                            <mxPoint x="13158" y="-15511"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2612" value="function commitPassiveMountEffects_begin(subtreeRoot: Fiber, root: FiberRoot)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="11910.62" y="-16244" width="440" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2613" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2556" target="2601" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="11208" y="-15904"/>
                            <mxPoint x="11208" y="-18069"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2614" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2591" target="2557" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="9842" y="-16651"/>
                            <mxPoint x="9842" y="-16344"/>
                            <mxPoint x="9434" y="-16344"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2615" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2614" vertex="1" connectable="0">
                    <mxGeometry x="-0.8866" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2616" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.166;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2593" target="2560" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2617" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=none;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="2352" target="2579" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="9197" y="-17277.5" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2618" value="&lt;div style=&quot;color: rgb(171 , 178 , 191) ; font-family: &amp;#34;fira code light&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 156% ; font-size: 11px&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(152 , 195 , 121)&quot;&gt;lastEffect&lt;/span&gt;&lt;span style=&quot;color: rgb(86 , 182 , 194)&quot;&gt;:&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;()&amp;nbsp;&lt;span style=&quot;color: #c678dd&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{…}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;deps&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;[]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;destroy&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;undefined&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{&lt;span style=&quot;color: #98c379&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;5&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;destroy&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;undefined&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;deps&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #e5c07b&quot;&gt;Array&lt;/span&gt;(&lt;span style=&quot;color: #d19a66&quot;&gt;0&lt;/span&gt;),&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{…},&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;ƒ}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;5&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="14038" y="-16084" width="524" height="122" as="geometry"/>
                </mxCell>
                <mxCell id="2619" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2620" target="2622" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2620" value="setCounter(counter + 1);" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="2166" y="-28520" width="150" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2621" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2622" target="2625" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2622" value="dispatchAction" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="2446" y="-28520" width="105" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2623" value="&lt;div&gt;function dispatchAction&amp;lt;S, A&amp;gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; fiber: Fiber,&lt;/div&gt;&lt;div&gt;&amp;nbsp; queue: UpdateQueue&amp;lt;S, A&amp;gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; action: A,&lt;/div&gt;&lt;div&gt;)&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="2396" y="-28595" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2624" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2625" target="2627" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2625" value="const eventTime = requestEventTime();&lt;br&gt;const lane = requestUpdateLane(fiber);" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="2384.75" y="-28415" width="227.5" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="2626" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2627" target="2629" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2627" value="&lt;div&gt;&amp;nbsp; //&amp;nbsp; 创建一个更新对象&lt;/div&gt;&lt;div&gt;&amp;nbsp; const update: Update&amp;lt;S, A&amp;gt; = {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lane,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; action,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; eagerReducer: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; eagerState: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; next: (null: any),&lt;/div&gt;&lt;div&gt;&amp;nbsp; };&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="2394.75" y="-28315" width="207.5" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="2628" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2629" target="2633" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2629" value="&amp;nbsp; const alternate = fiber.alternate;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2404.75" y="-28145" width="187.5" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2630" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2633" target="2634" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2631" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2630" vertex="1" connectable="0">
                    <mxGeometry x="-0.2369" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2632" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2633" target="2639" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2916" y="-27895" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2633" value="if (&#10;    fiber === currentlyRenderingFiber ||&#10;    (alternate !== null &amp;&amp; alternate === currentlyRenderingFiber)&#10;  )" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2324.75" y="-28060" width="347.5" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="2634" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const pending = queue.pending;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (pending === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 这是第一次更新。创建一个循环列表。&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // This is the first update. Create a circular list.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; update.next = update;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; update.next = pending.next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; pending.next = update;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; queue.pending = update;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2235.38" y="-27915" width="526.25" height="172.5" as="geometry"/>
                </mxCell>
                <mxCell id="2635" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2639" target="2640" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2636" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2635" vertex="1" connectable="0">
                    <mxGeometry x="-0.2267" y="-1" relative="1" as="geometry">
                        <mxPoint x="1" y="-11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2637" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2639" target="2642" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2638" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2637" vertex="1" connectable="0">
                    <mxGeometry x="0.5883" y="2" relative="1" as="geometry">
                        <mxPoint x="-2" y="29" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2639" value="if (isInterleavedUpdate(fiber, lane))&lt;br&gt;是否并发更新模式" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="2928.5" y="-27915" width="210" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2640" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const interleaved = queue.interleaved;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (interleaved === null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // This is the first update. Create a circular list.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; update.next = update;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // At the end of the current render, this queue's interleaved updates will&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // be transfered to the pending queue.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pushInterleavedQueue(queue);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; } else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; update.next = interleaved.next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; interleaved.next = update;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; queue.interleaved = update;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2816" y="-27785" width="435" height="205" as="geometry"/>
                </mxCell>
                <mxCell id="2641" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2642" target="2647" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2642" value="&amp;nbsp;const pending = queue.pending;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="3406" y="-27785" width="200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2643" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2647" target="2649" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2644" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2643" vertex="1" connectable="0">
                    <mxGeometry x="-0.2311" relative="1" as="geometry">
                        <mxPoint y="-4" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2645" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2647" target="2651" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2646" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2645" vertex="1" connectable="0">
                    <mxGeometry x="0.6" relative="1" as="geometry">
                        <mxPoint y="3" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2647" value="&amp;nbsp;if (pending === null)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="3441" y="-27695" width="130" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="2648" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2649" target="2653" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2649" value="&amp;nbsp; update.next = update;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="3436" y="-27605" width="140" height="32.5" as="geometry"/>
                </mxCell>
                <mxCell id="2650" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2651" target="2653" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3741" y="-27535"/>
                            <mxPoint x="3506" y="-27535"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2651" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;update.next = pending.next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;pending.next = update;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3656" y="-27605" width="170" height="47.5" as="geometry"/>
                </mxCell>
                <mxCell id="2652" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2653" target="2656" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2653" value="&amp;nbsp; queue.pending = update;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3431" y="-27505" width="150" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2654" value="actionc = 2&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="2586" y="-28555" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="2655" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2656" target="2658" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2656" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; fiber.lanes === NoLanes &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; (alternate === null || alternate.lanes === NoLanes)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; )&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3351" y="-27425" width="310" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2657" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2658" target="2660" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2658" value="&amp;nbsp; const lastRenderedReducer = queue.lastRenderedReducer;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3331" y="-27315" width="350" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2659" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2660" target="2662" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2660" value="if (lastRenderedReducer !== null)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3411" y="-27235" width="190" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2661" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2662" target="2665" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2662" value="&amp;nbsp;let prevDispatcher;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3446" y="-27125" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2663" value="&lt;div style=&quot;color: rgb(171 , 178 , 191) ; font-family: &amp;#34;fira code light&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 156%&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(198 , 120 , 221)&quot;&gt;const&lt;/span&gt;&amp;nbsp;queue&amp;nbsp;&lt;span style=&quot;color: rgb(86 , 182 , 194)&quot;&gt;=&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #61afef&quot;&gt;ƒ&lt;/span&gt;&amp;nbsp;()&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;interleaved&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;lanes&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;lastRenderedReducer&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;ƒ&amp;nbsp;&lt;span style=&quot;color: #61afef&quot;&gt;basicStateReducer&lt;/span&gt;(state,&amp;nbsp;action)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;lastRenderedState&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;1, //&amp;nbsp;上一次的值&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;pending&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{&lt;span style=&quot;color: #98c379&quot;&gt;lane&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;action&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;eagerReducer&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;eagerState&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #d19a66&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #98c379&quot;&gt;next&lt;/span&gt;&lt;span style=&quot;color: #56b6c2&quot;&gt;:&lt;/span&gt;&amp;nbsp;{…}}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="2666" y="-28612" width="620" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="2664" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2665" target="2668" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2665" value="const currentState: S = (queue.lastRenderedState: any);&lt;br&gt;//&amp;nbsp;取到上一次的&amp;nbsp;state" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3346" y="-27055" width="320" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2666" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2668" target="2670" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2667" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2668" target="2673" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2668" value="const eagerState = lastRenderedReducer(currentState, action);&lt;br&gt;//&amp;nbsp;计算这一次的&amp;nbsp;state" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="3326" y="-26955" width="360" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2669" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2670" target="2672" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2670" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;update.eagerReducer = lastRenderedReducer;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;update.eagerState = eagerState;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3356" y="-26845" width="300" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="2671" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2672" target="2678" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2672" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;update.eagerReducer = lastRenderedReducer;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;update.eagerState = eagerState;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3356" y="-26715" width="300" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="2673" value="&lt;div&gt;function basicStateReducer&amp;lt;S&amp;gt;(state: S, action: BasicStateAction&amp;lt;S&amp;gt;): S {&lt;/div&gt;&lt;div&gt;&amp;nbsp; // $FlowFixMe: Flow doesn't like mixed types&lt;/div&gt;&lt;div&gt;&amp;nbsp; return typeof action === 'function' ? action(state) : action;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3816" y="-26970" width="430" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2674" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2678" target="2679" edge="1">
                    <mxGeometry x="-0.7391" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3506" y="-26545"/>
                            <mxPoint x="3506" y="-26545"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2675" value="如果一致则直接&amp;nbsp;return ，不需要重新渲染" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2674" vertex="1" connectable="0">
                    <mxGeometry x="-0.2609" y="-1" relative="1" as="geometry">
                        <mxPoint x="1" y="7" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2676" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2678" target="2680" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3826" y="-26594"/>
                            <mxPoint x="3826" y="-26405"/>
                            <mxPoint x="3506" y="-26405"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2677" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2676" vertex="1" connectable="0">
                    <mxGeometry x="-0.863" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2678" value="&amp;nbsp;if (is(eagerState, currentState))&amp;nbsp;&lt;br&gt;判断上一次和这一次的值是否相等" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3406" y="-26615" width="200" height="42.5" as="geometry"/>
                </mxCell>
                <mxCell id="2679" value="&amp;nbsp;return;&lt;br&gt;&lt;div&gt;&amp;nbsp;// 将急切计算的状态和用于计算它的reducer保存在更新对象上。&lt;/div&gt;&lt;div&gt;&amp;nbsp;// 如果 reducer 在我们进入渲染阶段时还没有改变，那么无需再次调用 reducer ，&lt;/div&gt;&lt;div&gt;&amp;nbsp;// 就可以使用 eager 状态。&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="3281" y="-26515" width="450" height="76.25" as="geometry"/>
                </mxCell>
                <mxCell id="2681" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.784;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2680" target="1612" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5505" y="-26511" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="5414" y="-26301"/>
                            <mxPoint x="5414" y="-26511"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2682" value="复用事件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2681" vertex="1" connectable="0">
                    <mxGeometry x="-0.7383" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2680" value="const root = scheduleUpdateOnFiber(fiber, lane, eventTime);&lt;br&gt;//&amp;nbsp;开始调度更新" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="3333" y="-26321.5" width="330" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2683" value="更新阶段" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5501.03" y="-25028" width="58" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2688" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2685" target="2687" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2685" value="&amp;nbsp;const existingCallbackNode = root.callbackNode;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5939" y="-24971" width="240.5" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="2690" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2687" target="2689" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2687" value="&amp;nbsp; markStarvedLanesAsExpired(root, currentTime);&lt;br&gt;&amp;nbsp; &lt;span&gt;// 检查是否有其他线路被其他工作占用。&lt;br&gt;&amp;nbsp; // 如果是，将它们标记为过期，&lt;/span&gt;&lt;div&gt;&amp;nbsp; // 所以我们知道下一个工作。&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5939.75" y="-24886.5" width="239.75" height="61" as="geometry"/>
                </mxCell>
                <mxCell id="2692" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2689" target="2691" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2712" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.946;exitY=1.028;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="2689" target="2695" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2713" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="2710" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6228" y="-24699" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="6228" y="-24074"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2689" value="&amp;nbsp; //&amp;nbsp; 确定接下来的车道，以及它们的优先级。&lt;br&gt;&lt;div&gt;&amp;nbsp; const nextLanes = getNextLanes(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes,&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5870" y="-24763" width="378.38" height="63.5" as="geometry"/>
                </mxCell>
                <mxCell id="2694" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2691" target="2693" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2691" value="&amp;nbsp;if (nextLanes === NoLanes)" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=center;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5986.28" y="-24653.5" width="145.81" height="41.5" as="geometry"/>
                </mxCell>
                <mxCell id="2693" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;if (existingCallbackNode !== null) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; cancelCallback(existingCallbackNode);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root.callbackNode = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; root.callbackPriority = NoLane;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=10;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5956.219999999999" y="-24570" width="206.82" height="74.25" as="geometry"/>
                </mxCell>
                <mxCell id="2699" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2695" target="2698" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2695" value="&amp;nbsp;const newCallbackPriority = getHighestPriorityLane(nextLanes);&lt;br&gt;&amp;nbsp;//&amp;nbsp;我们使用最高优先级通道来表示回调的优先级。" style="whiteSpace=wrap;html=1;fontSize=10;fillColor=none;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5906.27" y="-24432" width="301.73" height="32" as="geometry"/>
                </mxCell>
                <mxCell id="2701" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2698" target="2700" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2698" value="&amp;nbsp; const existingCallbackPriority = root.callbackPriority;&lt;br&gt;&amp;nbsp; // 检查是否有一个已存在的任务。我们也许可以重新利用它。" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5916.21" y="-24356.37" width="281.86" height="41" as="geometry"/>
                </mxCell>
                <mxCell id="2703" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2700" target="2702" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2700" value="if (existingCallbackPriority === newCallbackPriority)&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5936.200000000001" y="-24268" width="241.86" height="36.87" as="geometry"/>
                </mxCell>
                <mxCell id="2702" value="&amp;nbsp;return" style="whiteSpace=wrap;html=1;fontSize=10;align=left;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6037.49" y="-24185.19" width="39.3" height="21.69" as="geometry"/>
                </mxCell>
                <mxCell id="2715" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2710" target="2714" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2710" value="if (existingCallbackNode != null)" style="rhombus;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5965.64" y="-24095.5" width="183" height="43" as="geometry"/>
                </mxCell>
                <mxCell id="2719" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2714" target="2718" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2714" value="&amp;nbsp;cancelCallback(existingCallbackNode);&lt;br&gt;&amp;nbsp;//&amp;nbsp;取消现有的回调。我们将在下面安排一个新的。" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5918.74" y="-24013" width="276.8" height="41" as="geometry"/>
                </mxCell>
                <mxCell id="2722" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2716" target="2721" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2763" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2716" target="2761" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6226" y="-23844"/>
                            <mxPoint x="6226" y="-23085"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2716" value="&amp;nbsp; if (newCallbackPriority === SyncLane)&lt;br&gt;&amp;nbsp; //&amp;nbsp;判断是否&amp;nbsp;同步赛道" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="5947.17" y="-23864" width="219.94" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2720" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2718" target="2716" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2718" value="&amp;nbsp; let newCallbackNode;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5991.06" y="-23928.5" width="132" height="31" as="geometry"/>
                </mxCell>
                <mxCell id="2724" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2721" target="2723" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5804" y="-23748"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2747" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.355;entryY=-0.032;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="2721" target="2725" edge="1">
                    <mxGeometry x="-0.6134" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6201" y="-23748"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2721" value="if (root.tag === LegacyRoot)&lt;br&gt;//&amp;nbsp;判断是否&amp;nbsp;legacy&amp;nbsp;渲染模式&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="5966.780000000001" y="-23767" width="181.86" height="38" as="geometry"/>
                </mxCell>
                <mxCell id="2745" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2723" target="2744" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2751" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2723" target="2728" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2723" value="&amp;nbsp; scheduleLegacySyncCallback(performSyncWorkOnRoot.bind(null, root));" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="5618" y="-23652.88" width="411.33" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="2748" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2725" target="2744" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6163" y="-23543"/>
                            <mxPoint x="6058" y="-23543"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2725" value="&amp;nbsp; scheduleSyncCallback(performSyncWorkOnRoot.bind(null, root));" style="whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="6071" y="-23693.000000000004" width="367" height="34.63" as="geometry"/>
                </mxCell>
                <mxCell id="2731" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2728" target="2730" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2728" value="&lt;div&gt;&amp;nbsp; includesLegacySyncCallbacks = true;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="6498.1" y="-23648.999999999996" width="230.95" height="28.62" as="geometry"/>
                </mxCell>
                <mxCell id="2733" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="2730" target="2735" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="6830.045" y="-23539.606666666663" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2743" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2730" target="2723" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6481" y="-23540"/>
                            <mxPoint x="6481" y="-23627"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2730" value="&lt;span&gt;&amp;nbsp; scheduleSyncCallback(callback);&lt;/span&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="6515.34" y="-23555.44" width="196.47" height="31.5" as="geometry"/>
                </mxCell>
                <mxCell id="2734" value="let syncQueue: Array&amp;lt;SchedulerCallback&amp;gt; | null = null;&lt;br&gt;文件中先声明" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="6842.89" y="-23606.94" width="299" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="2737" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2735" target="2736" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2738" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2737" vertex="1" connectable="0">
                    <mxGeometry x="0.1235" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2740" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2735" target="2739" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2735" value="if (syncQueue === null)&lt;br&gt;是否还没有添加过回调" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="6856.05" y="-23561.19" width="141" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="2741" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2736" target="2730" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6841.05" y="-23402.94"/>
                            <mxPoint x="6740.05" y="-23402.94"/>
                            <mxPoint x="6740.05" y="-23531.94"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2736" value="&amp;nbsp; syncQueue = [callback];" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="6769.05" y="-23452.94" width="143.5" height="29.75" as="geometry"/>
                </mxCell>
                <mxCell id="2742" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="2739" target="2730" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7013.05" y="-23402.94"/>
                            <mxPoint x="6740.05" y="-23402.94"/>
                            <mxPoint x="6740.05" y="-23531.94"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2739" value="&amp;nbsp;syncQueue.push(callback);" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="6933.67" y="-23452.94" width="159.38" height="29.75" as="geometry"/>
                </mxCell>
                <mxCell id="2753" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2744" target="2752" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5893" y="-23444"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2754" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="2753" vertex="1" connectable="0">
                    <mxGeometry x="-0.1438" y="1" relative="1" as="geometry">
                        <mxPoint x="25" y="-1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2757" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2744" target="2755" edge="1">
                    <mxGeometry x="-0.4923" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="6180" y="-23444"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2744" value="&amp;nbsp;if (supportsMicrotasks)&lt;br&gt;判断&amp;nbsp;微任务是否为&amp;nbsp;true" style="rhombus;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
                    <mxGeometry x="5992.02" y="-23466" width="131.37" height="44.75" as="geometry"/>
                </mxCell>
                <mxCell id="2759" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2752" target="2758" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2752" value="&amp;nbsp; &amp;nbsp;scheduleMicrotask(flushSyncCallbacks);&lt;br&gt;&amp;nbsp; &amp;nbsp;//&amp;nbsp;&amp;nbsp;刷新微任务中的队列。" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5774" y="-23367.5" width="238.71" height="34.87" as="geometry"/>
                </mxCell>
                <mxCell id="2760" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2755" target="2758" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2755" value="&amp;nbsp;scheduleMicrotask(flushSyncCallbacks);" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="6060.56" y="-23367.5" width="238.71" height="34.87" as="geometry"/>
                </mxCell>
                <mxCell id="2762" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2758" target="2761" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2758" value="&amp;nbsp; &amp;nbsp;newCallbackNode = null;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5977.56" y="-23242" width="159" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="2764" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.887;entryY=1.023;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2761" target="1636">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2761" value="&lt;div&gt;&amp;nbsp; root.callbackPriority = newCallbackPriority;&lt;/div&gt;&lt;div&gt;&amp;nbsp; root.callbackNode = newCallbackNode;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="5931.349999999999" y="-23108" width="252.72" height="45.5" as="geometry"/>
                </mxCell>
                <mxCell id="2773" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="2765" target="2680">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="5319" y="-24467"/>
                            <mxPoint x="5319" y="-26291"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2765" value="return root;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
                    <mxGeometry x="5618" y="-24483.5" width="79" height="32" as="geometry"/>
                </mxCell>
                <mxCell id="2776" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="2774" target="2775">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2774" value="&lt;div&gt;&amp;nbsp; batchedEventUpdates(() =&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; dispatchEventsForPlugins(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; domEventName,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; eventSystemFlags,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; nativeEvent,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ancestorInst,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; targetContainer,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="2389" y="-27508" width="176" height="135" as="geometry"/>
                </mxCell>
                <mxCell id="2775" value="&lt;div&gt;try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return fn(a);&lt;/div&gt;&lt;div&gt;&amp;nbsp; } finally {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; executionContext = prevExecutionContext;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // If there were legacy sync updates, flush them at the end of the outer&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // most batchedUpdates-like method.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (executionContext === NoContext) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; resetRenderTimer();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; flushSyncCallbacksOnlyInLegacyMode();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="2653" y="-27531.38" width="399" height="181.75" as="geometry"/>
                </mxCell>
                <mxCell id="2782" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="2780" target="2781">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2780" value="if (!isFlushingSyncQueue &amp;amp;&amp;amp; syncQueue !== null)" style="rhombus;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
                    <mxGeometry x="6576.93" y="-24706" width="284" height="53" as="geometry"/>
                </mxCell>
                <mxCell id="2784" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2781" target="2783">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2781" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; isFlushingSyncQueue = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; let i = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; const previousUpdatePriority = getCurrentUpdatePriority();&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="6549.87" y="-24579.5" width="338.13" height="54.5" as="geometry"/>
                </mxCell>
                <mxCell id="2821" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2783" target="2819">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2783" value="" style="swimlane;startSize=0;align=left;" vertex="1" parent="1">
                    <mxGeometry x="6410.43" y="-24458.13" width="617.01" height="699.13" as="geometry"/>
                </mxCell>
                <mxCell id="2789" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2783">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="127.98666666666759" y="101" as="sourcePoint"/>
                        <mxPoint x="123.15250000000106" y="140.13000000000102" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2786" value="&lt;div&gt;&amp;nbsp; const isSync = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; const queue = syncQueue;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2783">
                    <mxGeometry x="49.01" y="49.13" width="159.99" height="51.87" as="geometry"/>
                </mxCell>
                <mxCell id="2785" value="try" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="2783">
                    <mxGeometry x="43.57000000000062" y="26.13000000000102" width="23" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2806" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2783" source="2787" target="2798">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2787" value="&amp;nbsp; &amp;nbsp; &amp;nbsp; setCurrentUpdatePriority(DiscreteEventPriority);" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2783">
                    <mxGeometry x="49.01000000000022" y="140.13000000000102" width="300.57" height="51.19" as="geometry"/>
                </mxCell>
                <mxCell id="2791" value="for (; i &amp;lt; queue.length; i++)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="2783">
                    <mxGeometry x="43.57000000000062" y="226.13000000000102" width="150" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2810" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2783" source="2798" target="2809">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2798" value="" style="swimlane;startSize=0;align=left;" vertex="1" parent="2783">
                    <mxGeometry x="55.57" y="258.13" width="287.43" height="216.87" as="geometry"/>
                </mxCell>
                <mxCell id="2805" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2798" source="2800" target="2804">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2800" value="&amp;nbsp;let callback = queue[i];" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2798">
                    <mxGeometry x="64" y="20.000000000000004" width="159.99" height="51.87" as="geometry"/>
                </mxCell>
                <mxCell id="2804" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; do {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; callback = callback(isSync);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } while (callback !== null);&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2798">
                    <mxGeometry x="45.00000000000022" y="131.87" width="198" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="2809" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; syncQueue = null;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; includesLegacySyncCallbacks = false;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2783">
                    <mxGeometry x="83.27999999999975" y="507.130000000001" width="232" height="54" as="geometry"/>
                </mxCell>
                <mxCell id="2811" value="&amp;nbsp; performSyncWorkOnRoot" style="whiteSpace=wrap;html=1;align=left;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" vertex="1" parent="2783">
                    <mxGeometry x="379.5699999999997" y="395.130000000001" width="164" height="49" as="geometry"/>
                </mxCell>
                <mxCell id="2812" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="2783" source="2804" target="2811">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2814" value="finally" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="2783">
                    <mxGeometry x="49.00999999999931" y="580.130000000001" width="40" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="2815" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; setCurrentUpdatePriority(previousUpdatePriority);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; isFlushingSyncQueue = false;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="2783">
                    <mxGeometry x="49.009999999999316" y="610.130000000001" width="305" height="56" as="geometry"/>
                </mxCell>
                <mxCell id="2813" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="2811" target="1639">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="7046" y="-24039"/>
                            <mxPoint x="7046" y="-25455"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2816" value="重新开始调度" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2813">
                    <mxGeometry x="-0.979" y="3" relative="1" as="geometry">
                        <mxPoint x="14" y="1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2819" value="&amp;nbsp; return&amp;nbsp;null" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="6682.12" y="-23721" width="74" height="40" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="iH3K-b_9CHQP1OcHIJCF" name="第 2 页">
        &#xa;        &#xa;        &#xa;&#xa;&#xa;
        <mxGraphModel dx="1164" dy="1227" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="20000" pageHeight="30000" math="0" shadow="0">
            &#xa;            &#xa;            &#xa;&#xa;&#xa;
            <root>
                &#xa;                &#xa;                &#xa;&#xa;&#xa;
                <mxCell id="sc4NVRbb3tCxlVpP6G3L-0"/>
                &#xa;                &#xa;                &#xa;&#xa;&#xa;
                <mxCell id="sc4NVRbb3tCxlVpP6G3L-1" parent="sc4NVRbb3tCxlVpP6G3L-0"/>
                &#xa;                &#xa;                &#xa;&#xa;&#xa;
            </root>
            &#xa;            &#xa;            &#xa;&#xa;&#xa;
        </mxGraphModel>
        &#xa;        &#xa;        &#xa;&#xa;&#xa;
    </diagram>
</mxfile>